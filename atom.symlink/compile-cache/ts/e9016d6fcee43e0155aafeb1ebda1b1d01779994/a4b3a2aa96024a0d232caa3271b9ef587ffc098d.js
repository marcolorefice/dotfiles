/// Not useful for user input validation
// But great for simple config validation
// works only by "n" valid options
exports.types = {
    string: 'string',
    boolean: 'boolean',
    number: 'number',
    object: 'object',
    array: 'array'
};
var SimpleValidator = (function () {
    function SimpleValidator(validationInfo) {
        var _this = this;
        this.validationInfo = validationInfo;
        this.potentialLowerCaseMatch = {};
        Object.keys(validationInfo).forEach(function (k) { return _this.potentialLowerCaseMatch[k.toLowerCase()] = k; });
    }
    SimpleValidator.prototype.validate = function (config) {
        var _this = this;
        var keys = Object.keys(config);
        var errors = { invalidValues: [], extraKeys: [], errorMessage: '' };
        keys.forEach(function (k) {
            // Check extra keys
            if (!_this.validationInfo[k]) {
                if (_this.potentialLowerCaseMatch[k]) {
                    errors.extraKeys.push("Key: '" + k + "' is a potential lower case match for '" + _this.potentialLowerCaseMatch[k] + "'. Fix the casing.");
                }
                else {
                    errors.extraKeys.push("Unknown Option: " + k);
                }
            }
            else {
                var validationInfo = _this.validationInfo[k];
                var value = config[k];
                if (validationInfo.type && validationInfo.type === 'array') {
                    if (!Array.isArray(value)) {
                        errors.invalidValues.push("Key: '" + k + "' has an invalid type: " + typeof value);
                    }
                }
                else {
                    if (validationInfo.validValues && validationInfo.validValues.length) {
                        var validValues = validationInfo.validValues;
                        if (!validValues.some(function (valid) { return valid.toLowerCase() === value.toLowerCase(); })) {
                            errors.invalidValues.push("Key: '" + k + "' has an invalid value: " + value);
                        }
                    }
                    if (validationInfo.type && typeof value !== validationInfo.type) {
                        errors.invalidValues.push("Key: '" + k + "' has an invalid type: " + typeof value);
                    }
                }
            }
        });
        var total = errors.invalidValues.concat(errors.extraKeys);
        if (total.length) {
            errors.errorMessage = total.join("\n");
        }
        return errors;
    };
    return SimpleValidator;
})();
exports.SimpleValidator = SimpleValidator;
function createMap(arr) {
    return arr.reduce(function (result, key) {
        result[key] = true;
        return result;
    }, {});
}
exports.createMap = createMap;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvc3RlZmFuby8uZG90ZmlsZXMvYXRvbS5zeW1saW5rL3BhY2thZ2VzL2F0b20tdHlwZXNjcmlwdC9saWIvbWFpbi90c2NvbmZpZy9zaW1wbGVWYWxpZGF0b3IudHMiLCJzb3VyY2VzIjpbIi9ob21lL3N0ZWZhbm8vLmRvdGZpbGVzL2F0b20uc3ltbGluay9wYWNrYWdlcy9hdG9tLXR5cGVzY3JpcHQvbGliL21haW4vdHNjb25maWcvc2ltcGxlVmFsaWRhdG9yLnRzIl0sIm5hbWVzIjpbIlNpbXBsZVZhbGlkYXRvciIsIlNpbXBsZVZhbGlkYXRvci5jb25zdHJ1Y3RvciIsIlNpbXBsZVZhbGlkYXRvci52YWxpZGF0ZSIsImNyZWF0ZU1hcCJdLCJtYXBwaW5ncyI6IkFBQUEsd0NBQXdDO0FBQ3hDLHlDQUF5QztBQUN6QyxrQ0FBa0M7QUFFdkIsYUFBSyxHQUFHO0lBQ2YsTUFBTSxFQUFFLFFBQVE7SUFDaEIsT0FBTyxFQUFFLFNBQVM7SUFDbEIsTUFBTSxFQUFFLFFBQVE7SUFDaEIsTUFBTSxFQUFFLFFBQVE7SUFDaEIsS0FBSyxFQUFFLE9BQU87Q0FDakIsQ0FBQTtBQWVELElBQWEsZUFBZTtJQUd4QkEsU0FIU0EsZUFBZUEsQ0FHTEEsY0FBOEJBO1FBSHJEQyxpQkFtRENBO1FBaERzQkEsbUJBQWNBLEdBQWRBLGNBQWNBLENBQWdCQTtRQUM3Q0EsSUFBSUEsQ0FBQ0EsdUJBQXVCQSxHQUFHQSxFQUFFQSxDQUFDQTtRQUNsQ0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsQ0FBQ0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsVUFBQUEsQ0FBQ0EsSUFBR0EsT0FBQUEsS0FBSUEsQ0FBQ0EsdUJBQXVCQSxDQUFDQSxDQUFDQSxDQUFDQSxXQUFXQSxFQUFFQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFqREEsQ0FBaURBLENBQUNBLENBQUNBO0lBQy9GQSxDQUFDQTtJQUVERCxrQ0FBUUEsR0FBUkEsVUFBU0EsTUFBV0E7UUFBcEJFLGlCQTBDQ0E7UUF6Q0dBLElB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Q0FBQ0E7UUFFSEEsSUFBSUEsS0FBS0EsR0FBR0EsTUFBTUEsQ0FBQ0EsYUFBYUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsTUFBTUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0E7UUFDMURBLEVBQUVBLENBQUNBLENBQUNBLEtBQUtBLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1lBQ2ZBLE1BQU1BLENBQUNBLFlBQVlBLEdBQUdBLEtBQUtBLENBQUNBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQzNDQSxDQUFDQTtRQUVEQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQTtJQUNsQkEsQ0FBQ0E7SUFDTEYsc0JBQUNBO0FBQURBLENBQUNBLEFBbkRELElBbURDO0FBbkRZLHVCQUFlLEdBQWYsZUFtRFosQ0FBQTtBQUdELFNBQWdCLFNBQVMsQ0FBQyxHQUFhO0lBQ25DRyxNQUFNQSxDQUFDQSxHQUFHQSxDQUFDQSxNQUFNQSxDQUFDQSxVQUFDQSxNQUFrQ0EsRUFBRUEsR0FBV0E7UUFDOURBLE1BQU1BLENBQUNBLEdBQUdBLENBQUNBLEdBQUdBLElBQUlBLENBQUNBO1FBQ25CQSxNQUFNQSxDQUFDQSxNQUFNQSxDQUFDQTtJQUNsQkEsQ0FBQ0EsRUFBOEJBLEVBQUVBLENBQUNBLENBQUNBO0FBQ3ZDQSxDQUFDQTtBQUxlLGlCQUFTLEdBQVQsU0FLZixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIE5vdCB1c2VmdWwgZm9yIHVzZXIgaW5wdXQgdmFsaWRhdGlvblxuLy8gQnV0IGdyZWF0IGZvciBzaW1wbGUgY29uZmlnIHZhbGlkYXRpb25cbi8vIHdvcmtzIG9ubHkgYnkgXCJuXCIgdmFsaWQgb3B0aW9uc1xuXG5leHBvcnQgdmFyIHR5cGVzID0ge1xuICAgIHN0cmluZzogJ3N0cmluZycsXG4gICAgYm9vbGVhbjogJ2Jvb2xlYW4nLFxuICAgIG51bWJlcjogJ251bWJlcicsXG4gICAgb2JqZWN0OiAnb2JqZWN0JyxcbiAgICBhcnJheTogJ2FycmF5J1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhbGlkYXRpb25JbmZvIHtcbiAgICBbbmFtZTogc3RyaW5nXToge1xuICAgICAgICB2YWxpZFZhbHVlcz86IHN0cmluZ1tdO1xuICAgICAgICB0eXBlPzogc3RyaW5nO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBFcnJvcnMge1xuICAgIGludmFsaWRWYWx1ZXM6IHN0cmluZ1tdO1xuICAgIGV4dHJhS2V5czogc3RyaW5nW107XG4gICAgZXJyb3JNZXNzYWdlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTaW1wbGVWYWxpZGF0b3Ige1xuXG4gICAgcHJpdmF0ZSBwb3RlbnRpYWxMb3dlckNhc2VNYXRjaDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsaWRhdGlvbkluZm86IFZhbGlkYXRpb25JbmZvKSB7XG4gICAgICAgIHRoaXMucG90ZW50aWFsTG93ZXJDYXNlTWF0Y2ggPSB7fTtcbiAgICAgICAgT2JqZWN0LmtleXModmFsaWRhdGlvbkluZm8pLmZvckVhY2goaz0+IHRoaXMucG90ZW50aWFsTG93ZXJDYXNlTWF0Y2hbay50b0xvd2VyQ2FzZSgpXSA9IGspO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKGNvbmZpZzogYW55KTogRXJyb3JzIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpO1xuICAgICAgICB2YXIgZXJyb3JzID0geyBpbnZhbGlkVmFsdWVzOiBbXSwgZXh0cmFLZXlzOiBbXSwgZXJyb3JNZXNzYWdlOiAnJyB9O1xuICAgICAgICBrZXlzLmZvckVhY2goaz0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGV4dHJhIGtleXNcbiAgICAgICAgICAgIGlmICghdGhpcy52YWxpZGF0aW9uSW5mb1trXSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBvdGVudGlhbExvd2VyQ2FzZU1hdGNoW2tdKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5leHRyYUtleXMucHVzaChgS2V5OiAnJHtrfScgaXMgYSBwb3RlbnRpYWwgbG93ZXIgY2FzZSBtYXRjaCBmb3IgJyR7dGhpcy5wb3RlbnRpYWxMb3dlckNhc2VNYXRjaFtrXX0nLiBGaXggdGhlIGNhc2luZy5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5leHRyYUtleXMucHVzaChgVW5rbm93biBPcHRpb246ICR7a31gKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvIHZhbGlkYXRpb25cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWxpZGF0aW9uSW5mbyA9IHRoaXMudmFsaWRhdGlvbkluZm9ba107XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlOiBhbnkgPSBjb25maWdba107XG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRpb25JbmZvLnR5cGUgJiYgdmFsaWRhdGlvbkluZm8udHlwZSA9PT0gJ2FycmF5Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMuaW52YWxpZFZhbHVlcy5wdXNoKGBLZXk6ICcke2t9JyBoYXMgYW4gaW52YWxpZCB0eXBlOiAke3R5cGVvZiB2YWx1ZX1gKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbkluZm8udmFsaWRWYWx1ZXMgJiYgdmFsaWRhdGlvbkluZm8udmFsaWRWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRWYWx1ZXMgPSB2YWxpZGF0aW9uSW5mby52YWxpZFZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWRWYWx1ZXMuc29tZSh2YWxpZCA9PiB2YWxpZC50b0xvd2VyQ2FzZSgpID09PSB2YWx1ZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5pbnZhbGlkVmFsdWVzLnB1c2goYEtleTogJyR7a30nIGhhcyBhbiBpbnZhbGlkIHZhbHVlOiAke3ZhbHVlfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uSW5mby50eXBlICYmIHR5cGVvZiB2YWx1ZSAhPT0gdmFsaWRhdGlvbkluZm8udHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzLmludmFsaWRWYWx1ZXMucHVzaChgS2V5OiAnJHtrfScgaGFzIGFuIGludmFsaWQgdHlwZTogJHt0eXBlb2YgdmFsdWV9YClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHRvdGFsID0gZXJyb3JzLmludmFsaWRWYWx1ZXMuY29uY2F0KGVycm9ycy5leHRyYUtleXMpO1xuICAgICAgICBpZiAodG90YWwubGVuZ3RoKSB7XG4gICAgICAgICAgICBlcnJvcnMuZXJyb3JNZXNzYWdlID0gdG90YWwuam9pbihcIlxcblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNYXAoYXJyOiBzdHJpbmdbXSk6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9IHtcbiAgICByZXR1cm4gYXJyLnJlZHVjZSgocmVzdWx0OiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSwga2V5OiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB0cnVlO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIDx7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfT57fSk7XG59XG4iXX0=
//# sourceURL=/home/stefano/.dotfiles/atom.symlink/packages/atom-typescript/lib/main/tsconfig/simpleValidator.ts
