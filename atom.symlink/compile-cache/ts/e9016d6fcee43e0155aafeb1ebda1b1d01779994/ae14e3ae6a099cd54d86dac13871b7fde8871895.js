function formatDocument(proj, filePath) {
    var textChanges = proj.languageService.getFormattingEditsForDocument(filePath, proj.projectFile.project.formatCodeOptions);
    var edits = textChanges.map(function (change) {
        return {
            start: proj.languageServiceHost.getPositionFromIndex(filePath, change.span.start),
            end: proj.languageServiceHost.getPositionFromIndex(filePath, change.span.start + change.span.length),
            newText: change.newText
        };
    });
    return edits;
}
exports.formatDocument = formatDocument;
function formatDocumentRange(proj, filePath, start, end) {
    var st = proj.languageServiceHost.getIndexFromPosition(filePath, start);
    var ed = proj.languageServiceHost.getIndexFromPosition(filePath, end);
    var textChanges = proj.languageService.getFormattingEditsForRange(filePath, st, ed, proj.projectFile.project.formatCodeOptions);
    var edits = textChanges.map(function (change) {
        return {
            start: proj.languageServiceHost.getPositionFromIndex(filePath, change.span.start),
            end: proj.languageServiceHost.getPositionFromIndex(filePath, change.span.start + change.span.length),
            newText: change.newText
        };
    });
    return edits;
}
exports.formatDocumentRange = formatDocumentRange;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvc3RlZmFuby8uYXRvbS9wYWNrYWdlcy9hdG9tLXR5cGVzY3JpcHQvbGliL21haW4vbGFuZy9tb2R1bGVzL2Zvcm1hdHRpbmcudHMiLCJzb3VyY2VzIjpbIi9ob21lL3N0ZWZhbm8vLmF0b20vcGFja2FnZXMvYXRvbS10eXBlc2NyaXB0L2xpYi9tYWluL2xhbmcvbW9kdWxlcy9mb3JtYXR0aW5nLnRzIl0sIm5hbWVzIjpbImZvcm1hdERvY3VtZW50IiwiZm9ybWF0RG9jdW1lbnRSYW5nZSJdLCJtYXBwaW5ncyI6IkFBRUEsU0FBZ0IsY0FBYyxDQUFDLElBQXFCLEVBQUUsUUFBZ0I7SUFDbEVBLElBQUlBLFdBQVdBLEdBQUdBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLDZCQUE2QkEsQ0FBQ0EsUUFBUUEsRUFBRUEsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQTtJQUUzSEEsSUFBSUEsS0FBS0EsR0FBZUEsV0FBV0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsVUFBQUEsTUFBTUE7UUFDMUNBLE1BQU1BLENBQUNBO1lBQ0hBLEtBQUtBLEVBQUVBLElBQUlBLENBQUNBLG1CQUFtQkEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxRQUFRQSxFQUFFQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQTtZQUNqRkEsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxvQkFBb0JBLENBQUNBLFFBQVFBLEVBQUVBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBO1lBQ3BHQSxPQUFPQSxFQUFFQSxNQUFNQSxDQUFDQSxPQUFPQTtTQUMxQkEsQ0FBQ0E7SUFDTkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFFSEEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7QUFDakJBLENBQUNBO0FBWmUsc0JBQWMsR0FBZCxjQVlmLENBQUE7QUFDRCxTQUFnQixtQkFBbUIsQ0FBQyxJQUFxQixFQUFFLFFBQWdCLEVBQUUsS0FBcUIsRUFBRSxHQUFtQjtJQUNuSEMsSUFBSUEsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxvQkFBb0JBLENBQUNBLFFBQVFBLEVBQUVBLEtBQUtBLENBQUNBLENBQUNBO0lBQ3hFQSxJQUFJQSxFQUFFQSxHQUFHQSxJQUFJQSxDQUFDQSxtQkFBbUJBLENBQUNBLG9CQUFvQkEsQ0FBQ0EsUUFBUUEsRUFBRUEsR0FBR0EsQ0FBQ0EsQ0FBQ0E7SUFDdEVBLElBQUlBLFdBQVdBLEdBQUdBLElBQUlBLENBQUNBLGVBQWVBLENBQUNBLDBCQUEwQkEsQ0FBQ0EsUUFBUUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsSUFBSUEsQ0FBQ0EsV0FBV0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsaUJBQWlCQSxDQUFDQSxDQUFDQTtJQUVoSUEsSUFBSUEsS0FBS0EsR0FBZUEsV0FBV0EsQ0FBQ0EsR0FBR0EsQ0FBQ0EsVUFBQUEsTUFBTUE7UUFDMUNBLE1BQU1BLENBQUNBO1lBQ0hBLEtBQUtBLEVBQUVBLElBQUlBLENBQUNBLG1CQUFtQkEsQ0FBQ0Esb0JBQW9CQSxDQUFDQSxRQUFRQSxFQUFFQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQTtZQUNqRkEsR0FBR0EsRUFBRUEsSUFBSUEsQ0FBQ0EsbUJBQW1CQSxDQUFDQSxvQkFBb0JBLENBQUNBLFFBQVFBLEVBQUVBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLEtBQUtBLEdBQUdBLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLE1BQU1BLENBQUNBO1lBQ3BHQSxPQUFPQSxFQUFFQSxNQUFNQSxDQUFDQSxPQUFPQTtTQUMxQkEsQ0FBQ0E7SUFDTkEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDSEEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0E7QUFDakJBLENBQUNBO0FBYmUsMkJBQW1CLEdBQW5CLG1CQWFmLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcHJvamVjdCA9IHJlcXVpcmUoJy4uL2NvcmUvcHJvamVjdCcpO1xuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RG9jdW1lbnQocHJvajogcHJvamVjdC5Qcm9qZWN0LCBmaWxlUGF0aDogc3RyaW5nKTogQ29kZUVkaXRbXSB7XG4gICAgdmFyIHRleHRDaGFuZ2VzID0gcHJvai5sYW5ndWFnZVNlcnZpY2UuZ2V0Rm9ybWF0dGluZ0VkaXRzRm9yRG9jdW1lbnQoZmlsZVBhdGgsIHByb2oucHJvamVjdEZpbGUucHJvamVjdC5mb3JtYXRDb2RlT3B0aW9ucyk7XG5cbiAgICB2YXIgZWRpdHM6IENvZGVFZGl0W10gPSB0ZXh0Q2hhbmdlcy5tYXAoY2hhbmdlPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQ6IHByb2oubGFuZ3VhZ2VTZXJ2aWNlSG9zdC5nZXRQb3NpdGlvbkZyb21JbmRleChmaWxlUGF0aCwgY2hhbmdlLnNwYW4uc3RhcnQpLFxuICAgICAgICAgICAgZW5kOiBwcm9qLmxhbmd1YWdlU2VydmljZUhvc3QuZ2V0UG9zaXRpb25Gcm9tSW5kZXgoZmlsZVBhdGgsIGNoYW5nZS5zcGFuLnN0YXJ0ICsgY2hhbmdlLnNwYW4ubGVuZ3RoKSxcbiAgICAgICAgICAgIG5ld1RleHQ6IGNoYW5nZS5uZXdUZXh0XG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZWRpdHM7XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RG9jdW1lbnRSYW5nZShwcm9qOiBwcm9qZWN0LlByb2plY3QsIGZpbGVQYXRoOiBzdHJpbmcsIHN0YXJ0OiBFZGl0b3JQb3NpdGlvbiwgZW5kOiBFZGl0b3JQb3NpdGlvbik6IENvZGVFZGl0W10ge1xuICAgIHZhciBzdCA9IHByb2oubGFuZ3VhZ2VTZXJ2aWNlSG9zdC5nZXRJbmRleEZyb21Qb3NpdGlvbihmaWxlUGF0aCwgc3RhcnQpO1xuICAgIHZhciBlZCA9IHByb2oubGFuZ3VhZ2VTZXJ2aWNlSG9zdC5nZXRJbmRleEZyb21Qb3NpdGlvbihmaWxlUGF0aCwgZW5kKTtcbiAgICB2YXIgdGV4dENoYW5nZXMgPSBwcm9qLmxhbmd1YWdlU2VydmljZS5nZXRGb3JtYXR0aW5nRWRpdHNGb3JSYW5nZShmaWxlUGF0aCwgc3QsIGVkLCBwcm9qLnByb2plY3RGaWxlLnByb2plY3QuZm9ybWF0Q29kZU9wdGlvbnMpO1xuXG4gICAgdmFyIGVkaXRzOiBDb2RlRWRpdFtdID0gdGV4dENoYW5nZXMubWFwKGNoYW5nZT0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJ0OiBwcm9qLmxhbmd1YWdlU2VydmljZUhvc3QuZ2V0UG9zaXRpb25Gcm9tSW5kZXgoZmlsZVBhdGgsIGNoYW5nZS5zcGFuLnN0YXJ0KSxcbiAgICAgICAgICAgIGVuZDogcHJvai5sYW5ndWFnZVNlcnZpY2VIb3N0LmdldFBvc2l0aW9uRnJvbUluZGV4KGZpbGVQYXRoLCBjaGFuZ2Uuc3Bhbi5zdGFydCArIGNoYW5nZS5zcGFuLmxlbmd0aCksXG4gICAgICAgICAgICBuZXdUZXh0OiBjaGFuZ2UubmV3VGV4dFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBlZGl0cztcbn1cbiJdfQ==
//# sourceURL=/home/stefano/.atom/packages/atom-typescript/lib/main/lang/modules/formatting.ts
