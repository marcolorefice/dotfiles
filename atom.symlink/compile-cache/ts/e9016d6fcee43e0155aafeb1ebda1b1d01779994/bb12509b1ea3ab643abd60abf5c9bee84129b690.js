var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var view = require('./view');
var $ = view.$;
var TooltipView = (function (_super) {
    __extends(TooltipView, _super);
    function TooltipView(rect) {
        _super.call(this, rect);
        this.rect = rect;
        $(document.body).append(this.$);
        this.updatePosition();
    }
    TooltipView.content = function () {
        var _this = this;
        return this.div({ class: 'atom-typescript-tooltip tooltip' }, function () {
            _this.div({ class: 'tooltip-inner', outlet: 'inner' });
        });
    };
    TooltipView.prototype.updateText = function (text) {
        this.inner.html(text);
        this.updatePosition();
        this.$.fadeTo(300, 1);
    };
    TooltipView.prototype.updatePosition = function () {
        var offset = 10;
        var left = this.rect.right;
        var top = this.rect.bottom;
        var right = undefined;
        // X axis adjust
        if (left + this.$[0].offsetWidth >= view.$(document.body).width())
            left = view.$(document.body).width() - this.$[0].offsetWidth - offset;
        if (left < 0) {
            this.$.css({ 'white-space': 'pre-wrap' });
            left = offset;
            right = offset;
        }
        // Y axis adjust
        if (top + this.$[0].offsetHeight >= $(document.body).height()) {
            top = this.rect.top - this.$[0].offsetHeight;
        }
        this.$.css({ left: left, top: top, right: right });
    };
    return TooltipView;
})(view.View);
exports.TooltipView = TooltipView;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvc3RlZmFuby8uYXRvbS9wYWNrYWdlcy9hdG9tLXR5cGVzY3JpcHQvbGliL21haW4vYXRvbS92aWV3cy90b29sdGlwVmlldy50cyIsInNvdXJjZXMiOlsiL2hvbWUvc3RlZmFuby8uYXRvbS9wYWNrYWdlcy9hdG9tLXR5cGVzY3JpcHQvbGliL21haW4vYXRvbS92aWV3cy90b29sdGlwVmlldy50cyJdLCJuYW1lcyI6WyJUb29sdGlwVmlldyIsIlRvb2x0aXBWaWV3LmNvbnN0cnVjdG9yIiwiVG9vbHRpcFZpZXcuY29udGVudCIsIlRvb2x0aXBWaWV3LnVwZGF0ZVRleHQiLCJUb29sdGlwVmlldy51cGRhdGVQb3NpdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBTyxJQUFJLFdBQVcsUUFBUSxDQUFDLENBQUM7QUFDaEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztBQVNmLElBQWEsV0FBVztJQUFTQSxVQUFwQkEsV0FBV0EsVUFBd0JBO0lBRTVDQSxTQUZTQSxXQUFXQSxDQUVEQSxJQUFVQTtRQUN6QkMsa0JBQU1BLElBQUlBLENBQUNBLENBQUNBO1FBREdBLFNBQUlBLEdBQUpBLElBQUlBLENBQU1BO1FBRXpCQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUNoQ0EsSUFBSUEsQ0FBQ0EsY0FBY0EsRUFBRUEsQ0FBQUE7SUFDekJBLENBQUNBO0lBR01ELG1CQUFPQSxHQUFkQTtRQUFBRSxpQkFJQ0E7UUFIR0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsS0FBS0EsRUFBRUEsaUNBQWlDQSxFQUFFQSxFQUFFQTtZQUMxREEsS0FBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsS0FBS0EsRUFBRUEsZUFBZUEsRUFBRUEsTUFBTUEsRUFBRUEsT0FBT0EsRUFBRUEsQ0FBQ0EsQ0FBQUE7UUFDekRBLENBQUNBLENBQUNBLENBQUNBO0lBQ1BBLENBQUNBO0lBRURGLGdDQUFVQSxHQUFWQSxVQUFXQSxJQUFZQTtRQUNuQkcsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0E7UUFDdEJBLElBQUlBLENBQUNBLGNBQWNBLEVBQUVBLENBQUNBO1FBQ3RCQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxNQUFNQSxDQUFDQSxHQUFHQSxFQUFFQSxDQUFDQSxDQUFDQSxDQUFDQTtJQUMxQkEsQ0FBQ0E7SUFFREgsb0NBQWNBLEdBQWRBO1FBQ0lJLElBQUlBLE1BQU1BLEdBQUdBLEVBQUVBLENBQUNBO1FBQ2hCQSxJQUFJQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxJQUFJQSxDQUFDQSxLQUFLQSxDQUFDQTtRQUMzQkEsSUFBSUEsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsTUFBTUEsQ0FBQ0E7UUFDM0JBLElBQUlBLEtBQUtBLEdBQUdBLFNBQVNBLENBQUNBO1FBR3RCQSxBQURBQSxnQkFBZ0JBO1FBQ2hCQSxFQUFFQSxDQUFDQSxDQUFDQSxJQUFJQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxDQUFDQSxXQUFXQSxJQUFJQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxRQUFRQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtZQUM5REEsSUFBSUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsV0FBV0EsR0FBR0EsTUFBTUEsQ0FBQ0E7UUFDMUVBLEVBQUVBLENBQUNBLENBQUNBLElBQUlBLEdBQUdBLENBQUNBLENBQUNBLENBQUNBLENBQUNBO1lBQ1hBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLEdBQUdBLENBQUNBLEVBQUVBLGFBQWFBLEVBQUVBLFVBQVVBLEVBQUVBLENBQUNBLENBQUFBO1lBQ3pDQSxJQUFJQSxHQUFHQSxNQUFNQSxDQUFBQTtZQUNiQSxLQUFLQSxHQUFHQSxNQUFNQSxDQUFBQTtRQUNsQkEsQ0FBQ0E7UUFHREEsQUFEQUEsZ0JBQWdCQTtRQUNoQkEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsR0FBR0EsR0FBR0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsWUFBWUEsSUFBSUEsQ0FBQ0EsQ0FBQ0EsUUFBUUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsQ0FBQ0EsTUFBTUEsRUFBRUEsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7WUFDNURBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLElBQUlBLENBQUNBLEdBQUdBLEdBQUdBLElBQUlBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLENBQUNBLFlBQVlBLENBQUFBO1FBQ2hEQSxDQUFDQTtRQUVEQSxJQUFJQSxDQUFDQSxDQUFDQSxDQUFDQSxHQUFHQSxDQUFDQSxFQUFFQSxJQUFJQSxNQUFBQSxFQUFFQSxHQUFHQSxLQUFBQSxFQUFFQSxLQUFLQSxPQUFBQSxFQUFFQSxDQUFDQSxDQUFDQTtJQUNyQ0EsQ0FBQ0E7SUFDTEosa0JBQUNBO0FBQURBLENBQUNBLEFBM0NELEVBQWlDLElBQUksQ0FBQyxJQUFJLEVBMkN6QztBQTNDWSxtQkFBVyxHQUFYLFdBMkNaLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdmlldyA9IHJlcXVpcmUoJy4vdmlldycpO1xudmFyICQgPSB2aWV3LiQ7XG5cbmludGVyZmFjZSBSZWN0IHtcbiAgICBsZWZ0OiBudW1iZXI7XG4gICAgcmlnaHQ6IG51bWJlcjtcbiAgICB0b3A6IG51bWJlcjtcbiAgICBib3R0b206IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFRvb2x0aXBWaWV3IGV4dGVuZHMgdmlldy5WaWV3PFJlY3Q+IHtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyByZWN0OiBSZWN0KSB7XG4gICAgICAgIHN1cGVyKHJlY3QpO1xuICAgICAgICAkKGRvY3VtZW50LmJvZHkpLmFwcGVuZCh0aGlzLiQpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKClcbiAgICB9XG5cbiAgICBwcml2YXRlIGlubmVyOiBKUXVlcnk7XG4gICAgc3RhdGljIGNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdih7IGNsYXNzOiAnYXRvbS10eXBlc2NyaXB0LXRvb2x0aXAgdG9vbHRpcCcgfSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kaXYoeyBjbGFzczogJ3Rvb2x0aXAtaW5uZXInLCBvdXRsZXQ6ICdpbm5lcicgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlVGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5pbm5lci5odG1sKHRleHQpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuJC5mYWRlVG8oMzAwLCAxKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IDEwO1xuICAgICAgICB2YXIgbGVmdCA9IHRoaXMucmVjdC5yaWdodDtcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMucmVjdC5ib3R0b207XG4gICAgICAgIHZhciByaWdodCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBYIGF4aXMgYWRqdXN0XG4gICAgICAgIGlmIChsZWZ0ICsgdGhpcy4kWzBdLm9mZnNldFdpZHRoID49IHZpZXcuJChkb2N1bWVudC5ib2R5KS53aWR0aCgpKVxuICAgICAgICAgICAgbGVmdCA9IHZpZXcuJChkb2N1bWVudC5ib2R5KS53aWR0aCgpIC0gdGhpcy4kWzBdLm9mZnNldFdpZHRoIC0gb2Zmc2V0O1xuICAgICAgICBpZiAobGVmdCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuJC5jc3MoeyAnd2hpdGUtc3BhY2UnOiAncHJlLXdyYXAnIH0pXG4gICAgICAgICAgICBsZWZ0ID0gb2Zmc2V0XG4gICAgICAgICAgICByaWdodCA9IG9mZnNldFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gWSBheGlzIGFkanVzdFxuICAgICAgICBpZiAodG9wICsgdGhpcy4kWzBdLm9mZnNldEhlaWdodCA+PSAkKGRvY3VtZW50LmJvZHkpLmhlaWdodCgpKSB7XG4gICAgICAgICAgICB0b3AgPSB0aGlzLnJlY3QudG9wIC0gdGhpcy4kWzBdLm9mZnNldEhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy4kLmNzcyh7IGxlZnQsIHRvcCwgcmlnaHQgfSk7XG4gICAgfVxufVxuIl19
//# sourceURL=/home/stefano/.atom/packages/atom-typescript/lib/main/atom/views/tooltipView.ts
