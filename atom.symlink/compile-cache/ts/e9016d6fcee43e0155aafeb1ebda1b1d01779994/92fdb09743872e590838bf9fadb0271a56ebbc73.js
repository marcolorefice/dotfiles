var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
var view = require('./view');
var $ = view.$;
var DocumentationView = (function (_super) {
    __extends(DocumentationView, _super);
    function DocumentationView() {
        _super.apply(this, arguments);
        this.shown = false;
    }
    DocumentationView.content = function () {
        var _this = this;
        return this.div({ class: 'atom-ts-documentation padded top' }, function () { return _this.div(function () {
            _this.h2({ outlet: 'header' });
            _this.p({ outlet: 'documentation' });
        }); });
    };
    DocumentationView.prototype.show = function () {
        this.$.addClass('active');
        this.shown = true;
    };
    DocumentationView.prototype.hide = function () {
        this.$.removeClass('active');
        this.shown = false;
    };
    DocumentationView.prototype.toggle = function () {
        if (this.shown) {
            this.hide();
        }
        else {
            this.show();
        }
    };
    DocumentationView.prototype.setContent = function (content) {
        this.header.html(content.display);
        content.documentation = content.documentation.replace(/(?:\r\n|\r|\n)/g, '<br />');
        this.documentation.html(content.documentation);
    };
    DocumentationView.prototype.autoPosition = function () {
        var editor = atom.workspace.getActiveTextEditor();
        var cursor = editor.getCursors()[0];
        var cursorTop = cursor.getPixelRect().top - editor.getScrollTop();
        var editorHeight = editor.getHeight();
        if (editorHeight - cursorTop < 100) {
            this.$.removeClass('bottom');
            this.$.addClass('top');
        }
        else {
            this.$.removeClass('top');
            this.$.addClass('bottom');
        }
    };
    return DocumentationView;
})(view.View);
exports.DocumentationView = DocumentationView;
exports.docView;
function attach() {
    if (exports.docView)
        return;
    exports.docView = new DocumentationView({});
    $(atom.views.getView(atom.workspace)).append(exports.docView.$);
    //    testDocumentationView();
}
exports.attach = attach;
function testDocumentationView() {
    exports.docView.setContent({
        display: "this is awesome",
        documentation: "\n    some docs\n    over\n    many\n    many li\n\n    lines\n    long\n    so\n    long\n    that\n    it\n    should\n\n    start\n    to\n    scroll\n    ",
        filePath: "some filepath"
    });
    exports.docView.show();
}
exports.testDocumentationView = testDocumentationView;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvc3RlZmFuby8uYXRvbS9wYWNrYWdlcy9hdG9tLXR5cGVzY3JpcHQvbGliL21haW4vYXRvbS92aWV3cy9kb2N1bWVudGF0aW9uVmlldy50cyIsInNvdXJjZXMiOlsiL2hvbWUvc3RlZmFuby8uYXRvbS9wYWNrYWdlcy9hdG9tLXR5cGVzY3JpcHQvbGliL21haW4vYXRvbS92aWV3cy9kb2N1bWVudGF0aW9uVmlldy50cyJdLCJuYW1lcyI6WyJEb2N1bWVudGF0aW9uVmlldyIsIkRvY3VtZW50YXRpb25WaWV3LmNvbnN0cnVjdG9yIiwiRG9jdW1lbnRhdGlvblZpZXcuY29udGVudCIsIkRvY3VtZW50YXRpb25WaWV3LnNob3ciLCJEb2N1bWVudGF0aW9uVmlldy5oaWRlIiwiRG9jdW1lbnRhdGlvblZpZXcudG9nZ2xlIiwiRG9jdW1lbnRhdGlvblZpZXcuc2V0Q29udGVudCIsIkRvY3VtZW50YXRpb25WaWV3LmF1dG9Qb3NpdGlvbiIsImF0dGFjaCIsInRlc3REb2N1bWVudGF0aW9uVmlldyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBTyxJQUFJLFdBQVcsUUFBUSxDQUFDLENBQUM7QUFDaEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUVmLElBQWEsaUJBQWlCO0lBQVNBLFVBQTFCQSxpQkFBaUJBLFVBQXVCQTtJQUFyREEsU0FBYUEsaUJBQWlCQTtRQUFTQyw4QkFBY0E7UUFlekNBLFVBQUtBLEdBQUdBLEtBQUtBLENBQUNBO0lBMEIxQkEsQ0FBQ0E7SUFyQ1VELHlCQUFPQSxHQUFkQTtRQUFBRSxpQkFRQ0E7UUFQR0EsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsRUFBRUEsS0FBS0EsRUFBRUEsa0NBQWtDQSxFQUFFQSxFQUN6REEsY0FBTUEsT0FBQUEsS0FBSUEsQ0FBQ0EsR0FBR0EsQ0FDVkE7WUFDSUEsS0FBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsRUFBRUEsTUFBTUEsRUFBRUEsUUFBUUEsRUFBRUEs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SUEsaUJBQWlCQSxDQUFDQSxFQUFFQSxDQUFDQSxDQUFDQTtJQUNwQ0EsQ0FBQ0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsSUFBSUEsQ0FBQ0EsU0FBU0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsZUFBT0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQ0E7SUFDeERBLDhCQUE4QkE7QUFDbENBLENBQUNBO0FBTGUsY0FBTSxHQUFOLE1BS2YsQ0FBQTtBQUVELFNBQWdCLHFCQUFxQjtJQUNqQ0MsZUFBT0EsQ0FBQ0EsVUFBVUEsQ0FBQ0E7UUFDZkEsT0FBT0EsRUFBRUEsaUJBQWlCQTtRQUFFQSxhQUFhQSxFQUFFQSxnS0FpQjlDQTtRQUFFQSxRQUFRQSxFQUFFQSxlQUFlQTtLQUMzQkEsQ0FBQ0EsQ0FBQ0E7SUFDSEEsZUFBT0EsQ0FBQ0EsSUFBSUEsRUFBRUEsQ0FBQ0E7QUFDbkJBLENBQUNBO0FBdEJlLDZCQUFxQixHQUFyQixxQkFzQmYsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2aWV3ID0gcmVxdWlyZSgnLi92aWV3Jyk7XG52YXIgJCA9IHZpZXcuJDtcblxuZXhwb3J0IGNsYXNzIERvY3VtZW50YXRpb25WaWV3IGV4dGVuZHMgdmlldy5WaWV3PGFueT4ge1xuXG4gICAgcHJpdmF0ZSBoZWFkZXI6IEpRdWVyeTtcbiAgICBwcml2YXRlIGRvY3VtZW50YXRpb246IEpRdWVyeTtcbiAgICBzdGF0aWMgY29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2KHsgY2xhc3M6ICdhdG9tLXRzLWRvY3VtZW50YXRpb24gcGFkZGVkIHRvcCcgfSxcbiAgICAgICAgICAgICgpID0+IHRoaXMuZGl2KCAgLy8gVE9ETzogcmVwZWF0IGZvciBlYWNoIGRvY3VtZW50YXRpb24gZW50cnlcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaDIoeyBvdXRsZXQ6ICdoZWFkZXInIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnAoeyBvdXRsZXQ6ICdkb2N1bWVudGF0aW9uJyB9KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgc2hvd24gPSBmYWxzZTtcbiAgICBzaG93KCkgeyB0aGlzLiQuYWRkQ2xhc3MoJ2FjdGl2ZScpOyB0aGlzLnNob3duID0gdHJ1ZTsgfVxuICAgIGhpZGUoKSB7IHRoaXMuJC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7IHRoaXMuc2hvd24gPSBmYWxzZTsgfVxuICAgIHRvZ2dsZSgpIHsgaWYgKHRoaXMuc2hvd24pIHsgdGhpcy5oaWRlKCk7IH0gZWxzZSB7IHRoaXMuc2hvdygpOyB9IH1cblxuICAgIHNldENvbnRlbnQoY29udGVudDogeyBkaXNwbGF5OiBzdHJpbmc7IGRvY3VtZW50YXRpb246IHN0cmluZzsgZmlsZVBhdGg6IHN0cmluZyB9KSB7XG4gICAgICAgIHRoaXMuaGVhZGVyLmh0bWwoY29udGVudC5kaXNwbGF5KTtcbiAgICAgICAgY29udGVudC5kb2N1bWVudGF0aW9uID0gY29udGVudC5kb2N1bWVudGF0aW9uLnJlcGxhY2UoLyg/OlxcclxcbnxcXHJ8XFxuKS9nLCAnPGJyIC8+Jyk7XG4gICAgICAgIHRoaXMuZG9jdW1lbnRhdGlvbi5odG1sKGNvbnRlbnQuZG9jdW1lbnRhdGlvbik7XG4gICAgfVxuXG4gICAgYXV0b1Bvc2l0aW9uKCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gYXRvbS53b3Jrc3BhY2UuZ2V0QWN0aXZlVGV4dEVkaXRvcigpO1xuICAgICAgICB2YXIgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcnMoKVswXTtcbiAgICAgICAgdmFyIGN1cnNvclRvcCA9IGN1cnNvci5nZXRQaXhlbFJlY3QoKS50b3AgLSBlZGl0b3IuZ2V0U2Nyb2xsVG9wKCk7XG4gICAgICAgIHZhciBlZGl0b3JIZWlnaHQgPSBlZGl0b3IuZ2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgaWYgKGVkaXRvckhlaWdodCAtIGN1cnNvclRvcCA8IDEwMCkge1xuICAgICAgICAgICAgdGhpcy4kLnJlbW92ZUNsYXNzKCdib3R0b20nKTtcbiAgICAgICAgICAgIHRoaXMuJC5hZGRDbGFzcygndG9wJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiQucmVtb3ZlQ2xhc3MoJ3RvcCcpO1xuICAgICAgICAgICAgdGhpcy4kLmFkZENsYXNzKCdib3R0b20nKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgdmFyIGRvY1ZpZXc6IERvY3VtZW50YXRpb25WaWV3O1xuXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoKCkge1xuICAgIGlmIChkb2NWaWV3KSByZXR1cm47XG4gICAgZG9jVmlldyA9IG5ldyBEb2N1bWVudGF0aW9uVmlldyh7fSk7XG4gICAgJChhdG9tLnZpZXdzLmdldFZpZXcoYXRvbS53b3Jrc3BhY2UpKS5hcHBlbmQoZG9jVmlldy4kKTtcbiAgICAvLyAgICB0ZXN0RG9jdW1lbnRhdGlvblZpZXcoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3REb2N1bWVudGF0aW9uVmlldygpIHtcbiAgICBkb2NWaWV3LnNldENvbnRlbnQoe1xuICAgICAgICBkaXNwbGF5OiBcInRoaXMgaXMgYXdlc29tZVwiLCBkb2N1bWVudGF0aW9uOiBgXG4gICAgc29tZSBkb2NzXG4gICAgb3ZlclxuICAgIG1hbnlcbiAgICBtYW55IGxpXG5cbiAgICBsaW5lc1xuICAgIGxvbmdcbiAgICBzb1xuICAgIGxvbmdcbiAgICB0aGF0XG4gICAgaXRcbiAgICBzaG91bGRcblxuICAgIHN0YXJ0XG4gICAgdG9cbiAgICBzY3JvbGxcbiAgICBgLCBmaWxlUGF0aDogXCJzb21lIGZpbGVwYXRoXCJcbiAgICB9KTtcbiAgICBkb2NWaWV3LnNob3coKTtcbn1cbiJdfQ==
//# sourceURL=/home/stefano/.atom/packages/atom-typescript/lib/main/atom/views/documentationView.ts
