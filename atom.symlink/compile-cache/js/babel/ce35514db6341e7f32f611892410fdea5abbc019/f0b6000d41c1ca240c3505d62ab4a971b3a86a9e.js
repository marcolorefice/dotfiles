Object.defineProperty(exports, '__esModule', {
	value: true
});
/** @babel */

var notificationTemplate = function notificationTemplate(props) {
	return '\n' + props.messages.reduce(function (prev, curr) {
		return '' + prev + curr.replace(/\r|\n/gm, '').replace('@', '  \n') + '\n\n';
	}, '') + '\n\n### Active Configuration\n|Editorconfig-Property|Applied Setting|\n|--------|------:|\n|`end_of_line`|`' + props.end_of_line + '`|\n|`charset`|`' + props.charset + '`|\n|`indent_style`|`' + props.indent_style + '`|\n|`indent_size`/ `tab_width`|`' + props.tab_width + '`|\n|`insert_final_newline`|`' + props.insert_final_newline + '`|\n|`trim_trailing_whitespace`|`' + props.trim_trailing_whitespace + '`|\n\n_(auto: atom-editorconfig is not influencing that behavior. A full description of the properties can be found on editorconfig.org.)_\n\n' + (props.filename !== undefined && props.filename || '') + '\n';
};

var onClick = function onClick() {
	var textEditor = atom.workspace.getActiveTextEditor();
	if (textEditor && textEditor.getBuffer() && textEditor.getBuffer().editorconfig) {
		var buffer = textEditor.getBuffer();
		var ecfg = buffer.editorconfig;
		var settings = ecfg.settings;
		var lineEndings = { '\n': '\\n', '\r': '\\r', '\r\n': '\\r\\n' };

		var notificationOptions = {
			description: notificationTemplate({
				filename: buffer.getUri(),
				messages: ecfg.messages,
				// eslint-disable-next-line camelcase
				end_of_line: lineEndings[settings.end_of_line] || settings.end_of_line,
				charset: settings.charset,
				// eslint-disable-next-line camelcase
				indent_style: settings.indent_style,
				// eslint-disable-next-line camelcase
				tab_width: settings.tab_width,
				// eslint-disable-next-line camelcase
				insert_final_newline: settings.insert_final_newline,
				// eslint-disable-next-line camelcase
				trim_trailing_whitespace: settings.trim_trailing_whitespace
			}),
			dismissable: true
		};

		switch (ecfg.state) {
			case 'success':
				atom.notifications.addSuccess(textEditor.getTitle(), notificationOptions);
				break;
			case 'warning':
				atom.notifications.addWarning(textEditor.getTitle(), notificationOptions);
				break;
			case 'error':
				atom.notifications.addError(textEditor.getTitle(), notificationOptions);
				break;
			default:
				atom.notifications.addInfo(textEditor.getTitle(), notificationOptions);
		}
	}
};

var update = function update(state) {
	var element = document.getElementById('aec-status-bar-tile');
	if (element !== null) {
		element.className = 'icon aec-icon-mouse text-' + (state || 'subtle');
	}
};

exports.update = update;
var create = function create(state) {
	var div = document.createElement('div');
	var icon = document.createElement('span');

	div.className = 'inline-block';

	icon.id = 'aec-status-bar-tile';
	icon.className = 'icon aec-icon-mouse text-' + (state || 'subtle');
	icon.addEventListener('click', onClick);

	div.appendChild(icon);
	return div;
};
exports.create = create;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3N0ZWZhbm8vLmF0b20vcGFja2FnZXMvZWRpdG9yY29uZmlnL2xpYi9zdGF0dXN0aWxlLXZpZXcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFFQSxJQUFNLG9CQUFvQixHQUFHLFNBQXZCLG9CQUFvQixDQUFHLEtBQUssRUFBSTtBQUNyQyxlQUNDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLFVBQUMsSUFBSSxFQUFFLElBQUksRUFBSztBQUN2QyxjQUFVLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxVQUFPO0VBQ3hFLEVBQUUsRUFBRSxDQUFDLG1IQUtlLEtBQUssQ0FBQyxXQUFXLHdCQUNyQixLQUFLLENBQUMsT0FBTyw2QkFDUixLQUFLLENBQUMsWUFBWSx5Q0FDSixLQUFLLENBQUMsU0FBUyxxQ0FDckIsS0FBSyxDQUFDLG9CQUFvQix5Q0FDdEIsS0FBSyxDQUFDLHdCQUF3Qix1SkFJOUQsQUFBQyxLQUFLLENBQUMsUUFBUSxLQUFLLFNBQVMsSUFBSSxLQUFLLENBQUMsUUFBUSxJQUFLLEVBQUUsQ0FBQSxRQUN0RDtDQUNELENBQUM7O0FBRUYsSUFBTSxPQUFPLEdBQUcsU0FBVixPQUFPLEdBQVM7QUFDckIsS0FBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0FBQ3hELEtBQUksVUFBVSxJQUNiLFVBQVUsQ0FBQyxTQUFTLEVBQUUsSUFDdEIsVUFBVSxDQUFDLFNBQVMsRUFBRSxDQUFDLFlBQVksRUFBRTtBQUNyQyxNQUFNLE1BQU0sR0FBRyxVQUFVLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDdEMsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQztBQUNqQyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0FBQy9CLE1BQU0sV0FBVyxHQUFHLEVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUMsQ0FBQzs7QUFFakUsTUFBTSxtQkFBbUIsR0FBRztBQUMzQixjQUFXLEVBQUUsb0JBQW9CLENBQUM7QUFDakMsWUFBUSxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUU7QUFDekIsWUFBUSxFQUFFLElBQUksQ0FBQyxRQUFROztBQUV2QixlQUFXLEVBQUUsV0FBVyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxRQUFRLENBQUMsV0FBVztBQUN0RSxXQUFPLEVBQUUsUUFBUSxDQUFDLE9BQU87O0FBRXpCLGdCQUFZLEVBQUUsUUFBUSxDQUFDLFlBQVk7O0FBRW5DLGFBQVMsRUFBRSxRQUFRLENBQUMsU0FBUzs7QUFFN0Isd0JBQW9CLEVBQUUsUUFBUSxDQUFDLG9CQUFvQjs7QUFFbkQsNEJBQXdCLEVBQUUsUUFBUSxDQUFDLHdCQUF3QjtJQUMzRCxDQUFDO0FBQ0YsY0FBVyxFQUFFLElBQUk7R0FDakIsQ0FBQzs7QUFFRixVQUFRLElBQUksQ0FBQyxLQUFLO0FBQ2pCLFFBQUssU0FBUztBQUNiLFFBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQzFFLFVBQU07QUFBQSxBQUNQLFFBQUssU0FBUztBQUNiLFFBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQzFFLFVBQU07QUFBQSxBQUNQLFFBQUssT0FBTztBQUNYLFFBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQ3hFLFVBQU07QUFBQSxBQUNQO0FBQ0MsUUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxFQUFFLG1CQUFtQixDQUFDLENBQUM7QUFBQSxHQUN4RTtFQUNEO0NBQ0QsQ0FBQzs7QUFFSyxJQUFNLE1BQU0sR0FBRyxTQUFULE1BQU0sQ0FBRyxLQUFLLEVBQUk7QUFDOUIsS0FBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBQy9ELEtBQUksT0FBTyxLQUFLLElBQUksRUFBRTtBQUNyQixTQUFPLENBQUMsU0FBUyxrQ0FBK0IsS0FBSyxJQUFJLFFBQVEsQ0FBQSxBQUFFLENBQUM7RUFDcEU7Q0FDRCxDQUFDOzs7QUFFSyxJQUFNLE1BQU0sR0FBRyxTQUFULE1BQU0sQ0FBRyxLQUFLLEVBQUk7QUFDOUIsS0FBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMxQyxLQUFNLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUU1QyxJQUFHLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQzs7QUFFL0IsS0FBSSxDQUFDLEVBQUUsR0FBRyxxQkFBcUIsQ0FBQztBQUNoQyxLQUFJLENBQUMsU0FBUyxrQ0FBK0IsS0FBSyxJQUFJLFFBQVEsQ0FBQSxBQUFFLENBQUM7QUFDakUsS0FBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQzs7QUFFeEMsSUFBRyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN0QixRQUFPLEdBQUcsQ0FBQztDQUNYLENBQUMiLCJmaWxlIjoiL2hvbWUvc3RlZmFuby8uYXRvbS9wYWNrYWdlcy9lZGl0b3Jjb25maWcvbGliL3N0YXR1c3RpbGUtdmlldy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAYmFiZWwgKi9cblxuY29uc3Qgbm90aWZpY2F0aW9uVGVtcGxhdGUgPSBwcm9wcyA9PiB7XG5cdHJldHVybiBgXG4ke3Byb3BzLm1lc3NhZ2VzLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuXHRyZXR1cm4gYCR7cHJldn0ke2N1cnIucmVwbGFjZSgvXFxyfFxcbi9nbSwgJycpLnJlcGxhY2UoJ0AnLCAnICBcXG4nKX1cXG5cXG5gO1xufSwgJycpfVxuXG4jIyMgQWN0aXZlIENvbmZpZ3VyYXRpb25cbnxFZGl0b3Jjb25maWctUHJvcGVydHl8QXBwbGllZCBTZXR0aW5nfFxufC0tLS0tLS0tfC0tLS0tLTp8XG58XFxgZW5kX29mX2xpbmVcXGB8XFxgJHtwcm9wcy5lbmRfb2ZfbGluZX1cXGB8XG58XFxgY2hhcnNldFxcYHxcXGAke3Byb3BzLmNoYXJzZXR9XFxgfFxufFxcYGluZGVudF9zdHlsZVxcYHxcXGAke3Byb3BzLmluZGVudF9zdHlsZX1cXGB8XG58XFxgaW5kZW50X3NpemVcXGAvIFxcYHRhYl93aWR0aFxcYHxcXGAke3Byb3BzLnRhYl93aWR0aH1cXGB8XG58XFxgaW5zZXJ0X2ZpbmFsX25ld2xpbmVcXGB8XFxgJHtwcm9wcy5pbnNlcnRfZmluYWxfbmV3bGluZX1cXGB8XG58XFxgdHJpbV90cmFpbGluZ193aGl0ZXNwYWNlXFxgfFxcYCR7cHJvcHMudHJpbV90cmFpbGluZ193aGl0ZXNwYWNlfVxcYHxcblxuXyhhdXRvOiBhdG9tLWVkaXRvcmNvbmZpZyBpcyBub3QgaW5mbHVlbmNpbmcgdGhhdCBiZWhhdmlvci4gQSBmdWxsIGRlc2NyaXB0aW9uIG9mIHRoZSBwcm9wZXJ0aWVzIGNhbiBiZSBmb3VuZCBvbiBlZGl0b3Jjb25maWcub3JnLilfXG5cbiR7KHByb3BzLmZpbGVuYW1lICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZmlsZW5hbWUpIHx8ICcnfVxuYDtcbn07XG5cbmNvbnN0IG9uQ2xpY2sgPSAoKSA9PiB7XG5cdGNvbnN0IHRleHRFZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKCk7XG5cdGlmICh0ZXh0RWRpdG9yICYmXG5cdFx0dGV4dEVkaXRvci5nZXRCdWZmZXIoKSAmJlxuXHRcdHRleHRFZGl0b3IuZ2V0QnVmZmVyKCkuZWRpdG9yY29uZmlnKSB7XG5cdFx0Y29uc3QgYnVmZmVyID0gdGV4dEVkaXRvci5nZXRCdWZmZXIoKTtcblx0XHRjb25zdCBlY2ZnID0gYnVmZmVyLmVkaXRvcmNvbmZpZztcblx0XHRjb25zdCBzZXR0aW5ncyA9IGVjZmcuc2V0dGluZ3M7XG5cdFx0Y29uc3QgbGluZUVuZGluZ3MgPSB7J1xcbic6ICdcXFxcbicsICdcXHInOiAnXFxcXHInLCAnXFxyXFxuJzogJ1xcXFxyXFxcXG4nfTtcblxuXHRcdGNvbnN0IG5vdGlmaWNhdGlvbk9wdGlvbnMgPSB7XG5cdFx0XHRkZXNjcmlwdGlvbjogbm90aWZpY2F0aW9uVGVtcGxhdGUoe1xuXHRcdFx0XHRmaWxlbmFtZTogYnVmZmVyLmdldFVyaSgpLFxuXHRcdFx0XHRtZXNzYWdlczogZWNmZy5tZXNzYWdlcyxcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuXHRcdFx0XHRlbmRfb2ZfbGluZTogbGluZUVuZGluZ3Nbc2V0dGluZ3MuZW5kX29mX2xpbmVdIHx8IHNldHRpbmdzLmVuZF9vZl9saW5lLFxuXHRcdFx0XHRjaGFyc2V0OiBzZXR0aW5ncy5jaGFyc2V0LFxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5cdFx0XHRcdGluZGVudF9zdHlsZTogc2V0dGluZ3MuaW5kZW50X3N0eWxlLFxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5cdFx0XHRcdHRhYl93aWR0aDogc2V0dGluZ3MudGFiX3dpZHRoLFxuXHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5cdFx0XHRcdGluc2VydF9maW5hbF9uZXdsaW5lOiBzZXR0aW5ncy5pbnNlcnRfZmluYWxfbmV3bGluZSxcblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuXHRcdFx0XHR0cmltX3RyYWlsaW5nX3doaXRlc3BhY2U6IHNldHRpbmdzLnRyaW1fdHJhaWxpbmdfd2hpdGVzcGFjZVxuXHRcdFx0fSksXG5cdFx0XHRkaXNtaXNzYWJsZTogdHJ1ZVxuXHRcdH07XG5cblx0XHRzd2l0Y2ggKGVjZmcuc3RhdGUpIHtcblx0XHRcdGNhc2UgJ3N1Y2Nlc3MnOlxuXHRcdFx0XHRhdG9tLm5vdGlmaWNhdGlvbnMuYWRkU3VjY2Vzcyh0ZXh0RWRpdG9yLmdldFRpdGxlKCksIG5vdGlmaWNhdGlvbk9wdGlvbnMpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3dhcm5pbmcnOlxuXHRcdFx0XHRhdG9tLm5vdGlmaWNhdGlvbnMuYWRkV2FybmluZyh0ZXh0RWRpdG9yLmdldFRpdGxlKCksIG5vdGlmaWNhdGlvbk9wdGlvbnMpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2Vycm9yJzpcblx0XHRcdFx0YXRvbS5ub3RpZmljYXRpb25zLmFkZEVycm9yKHRleHRFZGl0b3IuZ2V0VGl0bGUoKSwgbm90aWZpY2F0aW9uT3B0aW9ucyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0YXRvbS5ub3RpZmljYXRpb25zLmFkZEluZm8odGV4dEVkaXRvci5nZXRUaXRsZSgpLCBub3RpZmljYXRpb25PcHRpb25zKTtcblx0XHR9XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGUgPSBzdGF0ZSA9PiB7XG5cdGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWVjLXN0YXR1cy1iYXItdGlsZScpO1xuXHRpZiAoZWxlbWVudCAhPT0gbnVsbCkge1xuXHRcdGVsZW1lbnQuY2xhc3NOYW1lID0gYGljb24gYWVjLWljb24tbW91c2UgdGV4dC0ke3N0YXRlIHx8ICdzdWJ0bGUnfWA7XG5cdH1cbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGUgPSBzdGF0ZSA9PiB7XG5cdGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG5cdGRpdi5jbGFzc05hbWUgPSAnaW5saW5lLWJsb2NrJztcblxuXHRpY29uLmlkID0gJ2FlYy1zdGF0dXMtYmFyLXRpbGUnO1xuXHRpY29uLmNsYXNzTmFtZSA9IGBpY29uIGFlYy1pY29uLW1vdXNlIHRleHQtJHtzdGF0ZSB8fCAnc3VidGxlJ31gO1xuXHRpY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XG5cblx0ZGl2LmFwcGVuZENoaWxkKGljb24pO1xuXHRyZXR1cm4gZGl2O1xufTtcbiJdfQ==
//# sourceURL=/home/stefano/.atom/packages/editorconfig/lib/statustile-view.js
