{"mode":"editor","version":1,"windowDimensions":{"x":136,"y":23,"width":1391,"height":988,"maximized":false},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/Users/n4z4/lavoro/centos7-php56"],"buffers":[{"text":"# =============================================================================\n# stefanorg/centos-php56\n#\n# CentOS-6, Apache 2.2, PHP 5.6, APC\n#\n# =============================================================================\nFROM centos:7\n\nMAINTAINER Stefano Corallo <stefanorg@gmail.com>\n\n# -----------------------------------------------------------------------------\n# PHP 5.6 repository\n# -----------------------------------------------------------------------------\nRUN rpm -Uvh http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm\nRUN rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\n\n# -----------------------------------------------------------------------------\n# Base Apache, PHPOrder\n# -----------------------------------------------------------------------------\nRUN yum -y install --enablerepo=remi,remi-php56 \\\n\telinks \\\n\thttpd \\\n\tmod_ssl \\\n\tphp \\\n\tphp-cli \\\n\tphp-pecl-apcu \\\n\tphp-pecl-memcached \\\n    php-pecl-xdebug \\\n    php-pecl-opcache \\\n\t&& rm -rf /var/cache/yum/* \\\n\t&& yum clean all\n\n\n# Add PHP Info _phpinfo.php\nRUN echo '<?php phpinfo(); ?>' > /var/www/html/_phpinfo.php\n\n# Install supervisor\nRUN yum -y install python-setuptools;\nRUN easy_install supervisor\n\n# -----------------------------------------------------------------------------\n# Copy files into place\n# -----------------------------------------------------------------------------\n#ADD etc/apache-bootstrap /etc/\n#ADD etc/services-config/httpd/apache-bootstrap.conf /etc/services-config/httpd/\nADD etc/services-config/supervisor/supervisord.conf /etc/services-config/supervisor/\n\nRUN ln -sf /etc/services-config/supervisor/supervisord.conf /etc/supervisord.conf\n  #mkdir -p /etc/services-config/{httpd/{conf,conf.d},ssl/{certs,private}} \\\n\t#&& cp /etc/httpd/conf/httpd.conf /etc/services-config/httpd/conf/ \\\n\t#&& ln -sf /etc/services-config/httpd/apache-bootstrap.conf /etc/apache-bootstrap.conf \\\n\t#&& ln -sf /etc/services-config/httpd/conf/httpd.conf /etc/httpd/conf/httpd.conf \\\n\t#&& ln -sf /etc/services-config/ssl/certs/localhost.crt /etc/pki/tls/certs/localhost.crt \\\n\t#&& ln -sf /etc/services-config/ssl/private/localhost.key /etc/pki/tls/private/localhost.key \\\n\t#&& ln -sf /etc/services-config/supervisor/supervisord.conf /etc/supervisord.conf \\\n\t#&& chmod +x /etc/apache-bootstrap\n\n# -----------------------------------------------------------------------------\n# Set default environment variables used to identify the service container\n# -----------------------------------------------------------------------------\nENV APACHE_SERVER_NAME app-1.local\nENV APACHE_SERVER_ALIAS app-1\nENV SERVICE_UNIT_APP_GROUP app-1\nENV SERVICE_UNIT_LOCAL_ID 1\nENV SERVICE_UNIT_INSTANCE 1\nENV DATE_TIMEZONE UTC\n\nEXPOSE 80 8443 443\n\nCMD [\"/usr/bin/supervisord\", \"--configuration=/etc/supervisord.conf\"]\n","markerStore":{"nextMarkerId":489,"markersById":{"0":{"range":{"start":{"row":38,"column":4},"end":{"row":38,"column":27}},"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true},"478":{"range":{"start":{"row":4,"column":0},"end":{"row":5,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"479":{"range":{"start":{"row":6,"column":0},"end":{"row":7,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"480":{"range":{"start":{"row":13,"column":0},"end":{"row":15,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"481":{"range":{"start":{"row":19,"column":0},"end":{"row":20,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"482":{"range":{"start":{"row":23,"column":0},"end":{"row":29,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"483":{"range":{"start":{"row":31,"column":0},"end":{"row":31,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"484":{"range":{"start":{"row":34,"column":0},"end":{"row":35,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"485":{"range":{"start":{"row":36,"column":0},"end":{"row":39,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"486":{"range":{"start":{"row":43,"column":0},"end":{"row":45,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"487":{"range":{"start":{"row":47,"column":0},"end":{"row":56,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"488":{"range":{"start":{"row":69,"column":0},"end":{"row":70,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false}},"version":2},"history":{"version":3,"nextCheckpointId":149,"undoStack":[{"type":"group-start","snapshot":{"0":{"range":[[6,5],[6,32]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,5],[6,32]],"newRange":[[6,5],[6,6]],"oldText":"jdeathe/centos-ssh:centos-6","newText":"c"}},{"type":"change","content":{"oldRange":[[6,6],[6,6]],"newRange":[[6,6],[6,7]],"oldText":"","newText":"e"}},{"type":"change","content":{"oldRange":[[6,7],[6,7]],"newRange":[[6,7],[6,8]],"oldText":"","newText":"n"}},{"type":"change","content":{"oldRange":[[6,8],[6,8]],"newRange":[[6,8],[6,9]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[6,9],[6,9]],"newRange":[[6,9],[6,10]],"oldText":"","newText":"o"}},{"type":"change","content":{"oldRange":[[6,10],[6,10]],"newRange":[[6,10],[6,11]],"oldText":"","newText":"s"}},{"type":"group-end","snapshot":{"0":{"range":[[6,11],[6,11]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,11],[6,11]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,11],[6,11]],"newRange":[[6,11],[6,12]],"oldText":"","newText":":"}},{"type":"change","content":{"oldRange":[[6,12],[6,12]],"newRange":[[6,12],[6,13]],"oldText":"","newText":"&"}},{"type":"group-end","snapshot":{"0":{"range":[[6,13],[6,13]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[6,13],[6,13]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[6,12],[6,13]],"newRange":[[6,12],[6,12]],"oldText":"&","newText":""}},{"type":"change","content":{"oldRange":[[6,12],[6,12]],"newRange":[[6,12],[6,13]],"oldText":"","newText":"7"}},{"type":"group-end","snapshot":{"0":{"range":[[6,13],[6,13]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[34,0],[168,74]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[34,0],[168,74]],"newRange":[[34,0],[34,0]],"oldText":"\n# -----------------------------------------------------------------------------\n# Global Apache configuration changes\n# -----------------------------------------------------------------------------\nRUN sed -i \\\n\t-e 's~^ServerSignature On$~ServerSignature Off~g' \\\n\t-e 's~^ServerTokens OS$~ServerTokens Prod~g' \\\n\t-e 's~^#ExtendedStatus On$~ExtendedStatus On~g' \\\n\t-e 's~^DirectoryIndex \\(.*\\)$~DirectoryIndex \\1 index.php~g' \\\n\t-e 's~^NameVirtualHost \\(.*\\)$~#NameVirtualHost \\1~g' \\\n\t/etc/httpd/conf/httpd.conf\n\n# -----------------------------------------------------------------------------\n# Disable Apache directory indexes\n# -----------------------------------------------------------------------------\nRUN sed -i \\\n\t-e 's~^IndexOptions \\(.*\\)$~#IndexOptions \\1~g' \\\n\t-e 's~^IndexIgnore \\(.*\\)$~#IndexIgnore \\1~g' \\\n\t-e 's~^AddIconByEncoding \\(.*\\)$~#AddIconByEncoding \\1~g' \\\n\t-e 's~^AddIconByType \\(.*\\)$~#AddIconByType \\1~g' \\\n\t-e 's~^AddIcon \\(.*\\)$~#AddIcon \\1~g' \\\n\t-e 's~^DefaultIcon \\(.*\\)$~#DefaultIcon \\1~g' \\\n\t-e 's~^ReadmeName \\(.*\\)$~#ReadmeName \\1~g' \\\n\t-e 's~^HeaderName \\(.*\\)$~#HeaderName \\1~g' \\\n\t/etc/httpd/conf/httpd.conf\n\n# -----------------------------------------------------------------------------\n# Disable Apache language based content negotiation\n# -----------------------------------------------------------------------------\nRUN sed -i \\\n\t-e 's~^LanguagePriority \\(.*\\)$~#LanguagePriority \\1~g' \\\n\t-e 's~^ForceLanguagePriority \\(.*\\)$~#ForceLanguagePriority \\1~g' \\\n\t-e 's~^AddLanguage \\(.*\\)$~#AddLanguage \\1~g' \\\n\t/etc/httpd/conf/httpd.conf\n\n# -----------------------------------------------------------------------------\n# Disable all Apache modules and enable the minimum\n# -----------------------------------------------------------------------------\nRUN sed -i \\\n\t-e 's~^\\(LoadModule .*\\)$~#\\1~g' \\\n\t-e 's~^#LoadModule mime_module ~LoadModule mime_module ~g' \\\n\t-e 's~^#LoadModule log_config_module ~LoadModule log_config_module ~g' \\\n\t-e 's~^#LoadModule setenvif_module ~LoadModule setenvif_module ~g' \\\n\t-e 's~^#LoadModule status_module ~LoadModule status_module ~g' \\\n\t-e 's~^#LoadModule authz_host_module ~LoadModule authz_host_module ~g' \\\n\t-e 's~^#LoadModule dir_module ~LoadModule dir_module ~g' \\\n\t-e 's~^#LoadModule alias_module ~LoadModule alias_module ~g' \\\n\t-e 's~^#LoadModule expires_module ~LoadModule expires_module ~g' \\\n\t-e 's~^#LoadModule deflate_module ~LoadModule deflate_module ~g' \\\n\t-e 's~^#LoadModule headers_module ~LoadModule headers_module ~g' \\\n\t-e 's~^#LoadModule alias_module ~LoadModule alias_module ~g' \\\n\t/etc/httpd/conf/httpd.conf\n\n# -----------------------------------------------------------------------------\n# Custom Apache configuration\n# -----------------------------------------------------------------------------\nRUN echo $'\\n#\\n# Custom configuration\\n#' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo 'Options -Indexes' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo 'Listen 8443' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo 'NameVirtualHost *:80' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo 'NameVirtualHost *:8443' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo '#NameVirtualHost *:443' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo 'Include /var/www/app/vhost.conf' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo '#Include /var/www/app/vhost-ssl.conf' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo $'\\n<Location /server-status>' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo '    SetHandler server-status' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo '    Order deny,allow' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo '    Deny from all' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo '    Allow from localhost 127.0.0.1' >> /etc/httpd/conf/httpd.conf \\\n\t&& echo '</Location>' >> /etc/httpd/conf/httpd.conf\n\n# -----------------------------------------------------------------------------\n# Limit process for the application user\n# -----------------------------------------------------------------------------\nRUN echo $'\\napache\\tsoft\\tnproc\\t30\\napache\\thard\\tnproc\\t50' >> /etc/security/limits.conf \\\n\t&& echo $'\\napp-www\\tsoft\\tnproc\\t30\\napp-www\\thard\\tnproc\\t50' >> /etc/security/limits.conf\n\n# -----------------------------------------------------------------------------\n# Disable the default SSL Virtual Host\n# \tSimplest approach is to use non-standard port instead of attempting to \n# \tcomment out or remove the necessary lines\n# -----------------------------------------------------------------------------\nRUN sed -i \\\n\t-e 's~^<VirtualHost _default_:443>$~<VirtualHost _default_:404>~g' \\\n\t/etc/httpd/conf.d/ssl.conf\n\n# -----------------------------------------------------------------------------\n# Disable the SSL support by default\n# -----------------------------------------------------------------------------\nRUN mv /etc/httpd/conf.d/ssl.conf /etc/httpd/conf.d/ssl.conf.off \\\n\t&& touch /etc/httpd/conf.d/ssl.conf \\\n\t&& chmod 444 /etc/httpd/conf.d/ssl.conf\n\n# -----------------------------------------------------------------------------\n# Global PHP configuration changes\n# -----------------------------------------------------------------------------\nRUN sed -i \\\n\t-e 's~^;date.timezone =$~date.timezone = UTC~g' \\\n\t-e 's~^;user_ini.filename =$~user_ini.filename =~g' \\\n\t/etc/php.ini\n\n# -----------------------------------------------------------------------------\n# APC op-code cache stats\n#\tNote there will be 1 cache per process if using mod_fcgid\n# -----------------------------------------------------------------------------\n#RUN sed -i \\\n#\t-e \"s~'ADMIN_PASSWORD','password'~'ADMIN_PASSWORD','apc!123'~g\" \\\n#\t-e \"s~'DATE_FORMAT', 'Y/m/d H:i:s'~'DATE_FORMAT', 'Y-m-d H:i:s'~g\" \\\n#\t-e \"s~php_uname('n');~gethostname();~g\"\n#\\\n#\t/usr/share/doc/php56w-pecl-apcu-4.0.7/apc.php\n\n# -----------------------------------------------------------------------------\n# Add default service users\n# -----------------------------------------------------------------------------\nRUN useradd -u 501 -d /var/www/app -m app \\\n\t&& useradd -u 502 -d /var/www/app -M -s /sbin/nologin -G app app-www \\\n\t&& usermod -a -G app-www app \\\n\t&& usermod -a -G app-www apache\n\n# -----------------------------------------------------------------------------\n# Add a symbolic link to the app users home within the home directory &\n# Create the initial directory structure\n# -----------------------------------------------------------------------------\nRUN ln -s /var/www/app /home/app \\\n\t&& mkdir -p /var/www/app/{public_html,src,var/{log,session,tmp}}\n\n# -----------------------------------------------------------------------------\n# Populate the app home directory\n# -----------------------------------------------------------------------------\nADD var/www/app/vhost.conf /var/www/app/vhost.conf\nADD var/www/app/vhost.conf /var/www/app/vhost-ssl.conf\nADD var/www/app/public_html/index.php /var/www/app/public_html/index.php\nADD var/www/app/public_html/adminer.php /var/www/app/public_html/adminer.php\nADD var/www/app/APC-Admin-master /var/www/app/public_html/APC-Admin-master","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[34,0],[34,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[32,0],[34,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[32,0],[34,0]],"newRange":[[32,0],[32,0]],"oldText":"# Display the contents of the new certificate for reference\nRUN openssl x509 -in /etc/pki/tls/certs/localhost.crt -text\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[32,0],[32,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[32,0],[32,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[31,0],[32,0]],"newRange":[[31,0],[31,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[31,0],[31,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[34,45],[34,45]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[34,44],[34,45]],"newRange":[[34,44],[34,44]],"oldText":"p","newText":""}},{"type":"change","content":{"oldRange":[[34,43],[34,44]],"newRange":[[34,43],[34,43]],"oldText":"p","newText":""}},{"type":"change","content":{"oldRange":[[34,42],[34,43]],"newRange":[[34,42],[34,42]],"oldText":"a","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[34,42],[34,42]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[34,42],[34,42]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[34,42],[34,42]],"newRange":[[34,42],[34,43]],"oldText":"","newText":"h"}},{"type":"group-end","snapshot":{"0":{"range":[[34,43],[34,43]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[34,43],[34,43]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[34,43],[34,43]],"newRange":[[34,43],[34,44]],"oldText":"","newText":"t"}},{"type":"change","content":{"oldRange":[[34,44],[34,44]],"newRange":[[34,44],[34,45]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[34,45],[34,45]],"newRange":[[34,45],[34,46]],"oldText":"","newText":"l"}},{"type":"group-end","snapshot":{"0":{"range":[[34,46],[34,46]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[34,47],[34,59]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[34,47],[34,59]],"newRange":[[34,47],[34,47]],"oldText":"public_html/","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[34,47],[34,47]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[35,0],[56,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[35,0],[56,0]],"newRange":[[35,0],[35,0]],"oldText":"\n# -----------------------------------------------------------------------------\n# Create the SSL VirtualHosts configuration file\n# -----------------------------------------------------------------------------\nRUN sed -i \\\n\t-e 's~^<VirtualHost \\*:80 \\*:8443>$~#<VirtualHost \\*:80 \\*:8443>~g' \\\n\t-e 's~^#<VirtualHost \\*:443>$~<VirtualHost \\*:443>~g' \\\n\t-e 's~#SSLEngine \\(.*\\)$~SSLEngine \\1~g' \\\n\t-e 's~#SSLOptions \\(.*\\)$~SSLOptions \\1~g' \\\n\t-e 's~#SSLProtocol \\(.*\\)$~SSLProtocol \\1~g' \\\n\t-e 's~#SSLCipherSuite \\(.*\\)$~SSLCipherSuite \\1~g' \\\n\t-e 's~#SSLCertificateFile \\(.*\\)$~SSLCertificateFile \\1~g' \\\n\t-e 's~#SSLCertificateKeyFile \\(.*\\)$~SSLCertificateKeyFile \\1~g' \\\n\t/var/www/app/vhost-ssl.conf\n\n# -----------------------------------------------------------------------------\n# Set permissions (app:app-www === 501:502)\n# -----------------------------------------------------------------------------\nRUN chown -R 501:502 /var/www/app \\\n\t&& chmod 775 /var/www/app\n\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[35,0],[35,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[35,0],[35,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[36,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[36,0],[36,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[36,0],[40,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[36,0],[40,0]],"newRange":[[36,0],[36,0]],"oldText":"# -----------------------------------------------------------------------------\n# Create the template directory\n# -----------------------------------------------------------------------------\nRUN cp -rpf /var/www/app /var/www/.app-skel\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[36,0],[36,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[36,0],[36,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[35,0],[36,0]],"newRange":[[35,0],[35,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[35,0],[35,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[39,0],[39,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[39,0],[39,0]],"newRange":[[39,0],[39,1]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[39,1],[39,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[40,0],[40,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[40,0],[40,0]],"newRange":[[40,0],[40,1]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[40,1],[40,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[43,4],[43,4]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[43,4],[43,4]],"newRange":[[43,4],[44,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[44,0],[44,0]],"newRange":[[44,0],[44,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[44,0],[44,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[44,0],[44,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[44,0],[44,0]],"newRange":[[44,0],[44,1]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[44,1],[44,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[44,1],[44,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[44,1],[44,1]],"newRange":[[44,1],[44,2]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[44,2],[44,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[44,2],[44,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[44,2],[44,2]],"newRange":[[44,2],[44,3]],"oldText":"","newText":"/"}},{"type":"change","content":{"oldRange":[[44,3],[44,3]],"newRange":[[44,3],[44,4]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"0":{"range":[[44,4],[44,4]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[44,4],[44,4]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[44,3],[44,4]],"newRange":[[44,3],[44,3]],"oldText":"/","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[44,3],[44,3]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[44,3],[44,3]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[44,2],[44,3]],"newRange":[[44,2],[44,2]],"oldText":"/","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[44,2],[44,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[44,2],[44,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[44,2],[44,2]],"newRange":[[44,2],[44,3]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[44,3],[44,3]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[45,1],[45,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[45,1],[45,1]],"newRange":[[45,1],[45,2]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[45,2],[45,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[43,4],[43,4]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[43,4],[43,4]],"newRange":[[43,4],[43,5]],"oldText":"","newText":"\\"}},{"type":"group-end","snapshot":{"0":{"range":[[43,5],[43,5]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[46,1],[46,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[46,1],[46,1]],"newRange":[[46,1],[46,2]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[46,2],[46,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[47,1],[47,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[47,1],[47,1]],"newRange":[[47,1],[47,2]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[47,2],[47,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[48,1],[48,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[48,1],[48,1]],"newRange":[[48,1],[48,2]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[48,2],[48,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[49,1],[49,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[49,1],[49,1]],"newRange":[[49,1],[49,2]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[49,2],[49,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[51,1],[51,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[51,1],[51,1]],"newRange":[[51,1],[51,2]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[51,2],[51,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[50,1],[50,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[50,1],[50,1]],"newRange":[[50,1],[50,2]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[50,2],[50,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[43,5],[43,5]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[43,4],[43,5]],"newRange":[[43,4],[43,4]],"oldText":"\\","newText":""}},{"type":"change","content":{"oldRange":[[43,4],[43,4]],"newRange":[[43,4],[43,83]],"oldText":"","newText":"ln -sf /etc/services-config/supervisor/supervisord.conf /etc/supervisord.conf \\"}},{"type":"group-end","snapshot":{"0":{"range":[[43,83],[43,83]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[43,83],[43,83]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[43,82],[43,83]],"newRange":[[43,82],[43,82]],"oldText":"\\","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[43,82],[43,82]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[65,69],[65,69]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[43,81],[43,82]],"newRange":[[43,81],[43,81]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[4,1],[4,2]],"newRange":[[4,1],[4,1]],"oldText":" ","newText":""}},{"type":"change","content":{"oldRange":[[65,69],[65,69]],"newRange":[[65,69],[66,0]],"oldText":"","newText":"\n"}},{"type":"group-end","snapshot":{"0":{"range":[[65,69],[65,69]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[26,1],[26,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[26,1],[26,1]],"newRange":[[26,1],[26,2]],"oldText":"","newText":"/"}},{"type":"group-end","snapshot":{"0":{"range":[[26,2],[26,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[26,2],[26,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[26,1],[26,2]],"newRange":[[26,1],[26,1]],"oldText":"/","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[26,1],[26,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[26,1],[26,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[26,1],[26,1]],"newRange":[[26,1],[26,2]],"oldText":"","newText":"#"}},{"type":"group-end","snapshot":{"0":{"range":[[26,2],[26,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[14,0],[14,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[15,47]],"oldText":"","newText":"RUN yum -y install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm\nRUN yum -y install --enablerepo=remi,remi-php56"}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[15,47],[15,47]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[14,19],[14,78]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[14,19],[14,78]],"newRange":[[14,19],[14,19]],"oldText":"http://rpms.famillecollet.com/enterprise/remi-release-7.rpm","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[14,19],[14,19]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,13],[13,59]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,13],[13,59]],"newRange":[[13,13],[13,72]],"oldText":"https://mirror.webtatic.com/yum/el6/latest.rpm","newText":"http://rpms.famillecollet.com/enterprise/remi-release-7.rpm"}},{"type":"group-end","snapshot":{"0":{"range":[[13,72],[13,72]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[14,0],[14,19]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[14,0],[14,19]],"newRange":[[14,0],[14,0]],"oldText":"RUN yum -y install ","newText":""}},{"type":"change","content":{"oldRange":[[13,72],[14,0]],"newRange":[[13,72],[13,72]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[13,72],[13,72]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[14,0],[14,47]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[14,0],[14,47]],"newRange":[[14,0],[14,0]],"oldText":"RUN yum -y install --enablerepo=remi,remi-php56","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[14,0],[14,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[14,0],[14,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,72],[14,0]],"newRange":[[13,72],[13,72]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[13,72],[13,72]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[18,0],[18,20]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null},"reversed":true,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[18,0],[18,20]],"newRange":[[18,0],[18,47]],"oldText":"RUN yum -y install \\","newText":"RUN yum -y install --enablerepo=remi,remi-php56"}},{"type":"group-end","snapshot":{"0":{"range":[[18,47],[18,47]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[18,47],[18,47]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[18,47],[18,47]],"newRange":[[18,47],[18,48]],"oldText":"","newText":" "}},{"type":"change","content":{"oldRange":[[18,48],[18,48]],"newRange":[[18,48],[18,49]],"oldText":"","newText":"\\"}},{"type":"group-end","snapshot":{"0":{"range":[[18,49],[18,49]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[22,7],[22,7]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[22,6],[22,7]],"newRange":[[22,6],[22,6]],"oldText":"w","newText":""}},{"type":"change","content":{"oldRange":[[22,5],[22,6]],"newRange":[[22,5],[22,5]],"oldText":"6","newText":""}},{"type":"change","content":{"oldRange":[[22,4],[22,5]],"newRange":[[22,4],[22,4]],"oldText":"5","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[22,4],[22,4]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[23,4],[23,7]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[23,4],[23,7]],"newRange":[[23,4],[23,4]],"oldText":"56w","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[23,4],[23,4]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[24,4],[24,7]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[24,4],[24,7]],"newRange":[[24,4],[24,4]],"oldText":"56w","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[24,4],[24,4]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[25,5],[25,8]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[25,5],[25,8]],"newRange":[[25,5],[25,5]],"oldText":"56w","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[25,5],[25,5]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[26,7],[26,10]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[26,7],[26,10]],"newRange":[[26,7],[26,7]],"oldText":"56w","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[26,7],[26,7]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[27,7],[27,10]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[27,7],[27,10]],"newRange":[[27,7],[27,7]],"oldText":"56w","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[27,7],[27,7]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[25,2],[25,2]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[25,1],[25,2]],"newRange":[[25,1],[25,1]],"oldText":"#","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[25,1],[25,1]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,0],[13,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[14,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[13,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[14,0],[14,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,0],[13,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[13,75]],"oldText":"","newText":"http://dl.fedoraproject.org/pub/epel/7/x86_64/e/epel-release-7-5.noarch.rpm"}},{"type":"group-end","snapshot":{"0":{"range":[[13,75],[13,75]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,0],[13,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,0],[13,0]],"newRange":[[13,0],[13,1]],"oldText":"","newText":"R"}},{"type":"change","content":{"oldRange":[[13,1],[13,1]],"newRange":[[13,1],[13,2]],"oldText":"","newText":"U"}},{"type":"change","content":{"oldRange":[[13,2],[13,2]],"newRange":[[13,2],[13,3]],"oldText":"","newText":"N"}},{"type":"change","content":{"oldRange":[[13,3],[13,3]],"newRange":[[13,3],[13,4]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[13,4],[13,4]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,4],[13,4]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,4],[13,4]],"newRange":[[13,4],[13,5]],"oldText":"","newText":"r"}},{"type":"change","content":{"oldRange":[[13,5],[13,5]],"newRange":[[13,5],[13,6]],"oldText":"","newText":"p"}},{"type":"group-end","snapshot":{"0":{"range":[[13,6],[13,6]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,6],[13,6]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,6],[13,6]],"newRange":[[13,6],[13,7]],"oldText":"","newText":"m"}},{"type":"change","content":{"oldRange":[[13,7],[13,7]],"newRange":[[13,7],[13,8]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[13,8],[13,8]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,8],[13,8]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,8],[13,8]],"newRange":[[13,8],[13,9]],"oldText":"","newText":"-"}},{"type":"group-end","snapshot":{"0":{"range":[[13,9],[13,9]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,9],[13,9]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,9],[13,9]],"newRange":[[13,9],[13,10]],"oldText":"","newText":"U"}},{"type":"group-end","snapshot":{"0":{"range":[[13,10],[13,10]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,10],[13,10]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,10],[13,10]],"newRange":[[13,10],[13,11]],"oldText":"","newText":"h"}},{"type":"group-end","snapshot":{"0":{"range":[[13,11],[13,11]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,11],[13,11]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,10],[13,11]],"newRange":[[13,10],[13,10]],"oldText":"h","newText":""}},{"type":"change","content":{"oldRange":[[13,10],[13,10]],"newRange":[[13,10],[13,11]],"oldText":"","newText":"v"}},{"type":"group-end","snapshot":{"0":{"range":[[13,11],[13,11]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[13,11],[13,11]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[13,11],[13,11]],"newRange":[[13,11],[13,12]],"oldText":"","newText":"h"}},{"type":"change","content":{"oldRange":[[13,12],[13,12]],"newRange":[[13,12],[13,13]],"oldText":"","newText":" "}},{"type":"group-end","snapshot":{"0":{"range":[[13,13],[13,13]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[9,0],[9,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[10,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[10,0],[10,0]],"newRange":[[10,0],[10,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[9,0],[9,0]],"newRange":[[9,0],[9,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[10,0],[10,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[10,0],[10,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[9,0],[10,0]],"newRange":[[9,0],[9,0]],"oldText":"\n","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[9,0],[9,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[35,0],[35,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[36,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[36,0],[36,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[35,0],[35,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[36,0]],"oldText":"","newText":"\n"}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"change","content":{"oldRange":[[35,0],[35,0]],"newRange":[[35,0],[35,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[36,0],[36,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"group-start","snapshot":{"0":{"range":[[36,0],[36,0]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[38,27]],"oldText":"","newText":"# Install supervisor\nRUN yum -y install python-setuptools;\nRUN easy_install supervisor"}},{"type":"change","content":{"oldRange":[[36,0],[36,0]],"newRange":[[36,0],[36,0]],"oldText":"","newText":""}},{"type":"group-end","snapshot":{"0":{"range":[[38,27],[38,27]],"properties":{"type":"selection","editorId":8,"goalScreenRange":null,"clip":"forward"},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}}],"redoStack":[]},"encoding":"utf8","filePath":"/Users/n4z4/lavoro/centos7-php56/Dockerfile","digestWhenLastPersisted":"9c7b30df328d72154d87998f5dde5fce76577d7d","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"#!/usr/bin/env bash\n\nsource /etc/apache-bootstrap.conf\n\nget_password ()\n{\n\techo $(head -n 4096 /dev/urandom | tr -cd '[:alnum:]' | head -c ${1})\n}\n\nOPTS_SERVICE_USER=\"${SERVICE_USER:-app}\"\nOPTS_SERVICE_USER_GROUP=\"${SERVICE_USER_GROUP:-app-www}\"\nOPTS_SERVICE_USER_PASSWORD=\"${SERVICE_USER_PASSWORD:-$(get_password 8)}\"\nOPTS_SERVICE_USER_GROUP_PASSWORD=\"${SERVICE_USER_GROUP_PASSWORD:-$(get_password 8)}\"\n# Should always be false for mod_php\nOPTS_SUEXECUSERGROUP=\"false\"\n\nOPTS_APACHE_SERVER_NAME=\"${APACHE_SERVER_NAME:-$(hostname)}\"\nOPTS_APACHE_MOD_SSL_ENABLED=\"${APACHE_MOD_SSL_ENABLED:-false}\"\n\nif [[ ! -d ${APP_HOME_DIR} ]] && [[ -d ${APP_HOME_DIR_TEMPLATE} ]]; then\n\techo Recreate the ${APP_HOME_DIR} directory...\n\tmkdir -p ${APP_HOME_DIR}\nfi\n\nif [[ ! -n $(find ${APP_HOME_DIR} -maxdepth 1 -type f) ]] && [[ -d ${APP_HOME_DIR_TEMPLATE} ]]; then\n\techo Home directory ${APP_HOME_DIR} exists but is empty - populate it using ${APP_HOME_DIR_TEMPLATE}...\n\tcp -rf ${APP_HOME_DIR_TEMPLATE}/. ${APP_HOME_DIR}/\nelif [[ ! -d ${APP_HOME_DIR}/public_html ]]; then\n\techo ERROR: ${APP_HOME_DIR}/public_html not found.\n\texit 1\nfi\n\n# If users need to change the vhost.conf the SSL version can be rebuilt if it is deleted\nif [[ ${OPTS_APACHE_MOD_SSL_ENABLED} == \"true\" ]] && [[ ! -f ${APP_HOME_DIR}/vhost-ssl.conf ]] && [[ -f ${APP_HOME_DIR}/vhost.conf ]]; then\n\techo Rebuilding the SSL VirtualHost configuration...\n\tcp -pf ${APP_HOME_DIR}/vhost.conf ${APP_HOME_DIR}/vhost-ssl.conf\n\n\t# Enable the SSL VirtualHosts configuration\n\tsed -i \\\n\t\t-e 's~^<VirtualHost \\*:80>$~#<VirtualHost \\*:80>~g' \\\n\t\t-e 's~^#<VirtualHost \\*:443>$~<VirtualHost \\*:443>~g' \\\n\t\t-e 's~#SSLEngine \\(.*\\)$~SSLEngine \\1~g' \\\n\t\t-e 's~#SSLOptions \\(.*\\)$~SSLOptions \\1~g' \\\n\t\t-e 's~#SSLProtocol \\(.*\\)$~SSLProtocol \\1~g' \\\n\t\t-e 's~#SSLCipherSuite \\(.*\\)$~SSLCipherSuite \\1~g' \\\n\t\t-e 's~#SSLCertificateFile \\(.*\\)$~SSLCertificateFile \\1~g' \\\n\t\t-e 's~#SSLCertificateKeyFile \\(.*\\)$~SSLCertificateKeyFile \\1~g' \\\n\t\t/var/www/app/vhost-ssl.conf\nfi\n\n# Enable/Disable SSL support\nif [[ ${OPTS_APACHE_MOD_SSL_ENABLED} == \"true\" ]]; then\n\techo Enabling SSL support...\n\tcat /etc/httpd/conf.d/ssl.conf.off > /etc/httpd/conf.d/ssl.conf\n\n\tsed -i \\\n\t\t-e 's~^#NameVirtualHost \\*:443$~NameVirtualHost \\*:443~g' \\\n\t\t-e 's~^#Include /var/www/app/vhost-ssl.conf$~Include /var/www/app/vhost-ssl.conf~g' \\\n\t\t/etc/httpd/conf/httpd.conf\n\n\tif [[ ! -f /etc/services-config/ssl/private/localhost.key ]] || [[ ! -f /etc/services-config/ssl/certs/localhost.crt ]]; then\n\t\techo Generating new certificate...\n\t\topenssl req -x509 -nodes -newkey rsa:4096 \\\n\t\t-days 365 \\\n\t\t-subj \"/C=--/ST=STATE/L=LOCALITY/O=ORGANIZATION/CN=${OPTS_APACHE_SERVER_NAME}\" \\\n\t\t-keyout /etc/services-config/ssl/private/localhost.key \\\n\t\t-out /etc/services-config/ssl/certs/localhost.crt\n\tfi\n\n\topenssl x509 -in /etc/services-config/ssl/certs/localhost.crt -text\nelse\n\techo Disabling SSL support...\n\t> /etc/httpd/conf.d/ssl.conf\n\n\tsed -i \\\n\t\t-e 's~^NameVirtualHost \\*:443$~#NameVirtualHost \\*:443~g' \\\n\t\t-e 's~^Include /var/www/app/vhost-ssl.conf$~#Include /var/www/app/vhost-ssl.conf~g' \\\n\t\t/etc/httpd/conf/httpd.conf\nfi\n\n# Set the service user / service group user\nif getent passwd app && [[ ${OPTS_SERVICE_USER} != \"app\" ]]; then\n\tusermod -l ${OPTS_SERVICE_USER} app\nfi\n\nif getent passwd app-www && [[ ${OPTS_SERVICE_USER_GROUP} != \"app-www\" ]]; then\n\tusermod -l ${OPTS_SERVICE_USER_GROUP} app-www\nfi\n\n# Set the Apache (run) service user/group\nif [[ ${OPTS_SUEXECUSERGROUP} == \"true\" ]]; then\n\tsed -i -e \"s~^User .*$~User ${OPTS_SERVICE_USER_GROUP}~g\" -e \"s~^Group .*$~Group ${OPTS_SERVICE_USER_GROUP}~g\" /etc/httpd/conf/httpd.conf\n\tsed -i -e 's~#SuexecUserGroup \\(.*\\)$~SuexecUserGroup \\1~g' /var/www/app/vhost.conf\n\tsed -i -e 's~#SuexecUserGroup \\(.*\\)$~SuexecUserGroup \\1~g' /var/www/app/vhost-ssl.conf\n\tchown -R 502:502 /var/{www/app/bin,www/.app-skel/bin,run/mod_fcgid}\nelse\n\tsed -i -e \"s~^User .*$~User apache~g\" -e \"s~^Group .*$~Group apache~g\" /etc/httpd/conf/httpd.conf\n\tsed -i -e 's~\\([^#]\\)SuexecUserGroup \\(.*\\)$~\\1#SuexecUserGroup \\2~g' /var/www/app/vhost.conf\n\tsed -i -e 's~\\([^#]\\)SuexecUserGroup \\(.*\\)$~\\1#SuexecUserGroup \\2~g' /var/www/app/vhost-ssl.conf\n\tchown -R apache:apache /var/{www/app/bin,www/.app-skel/bin,run/mod_fcgid}\nfi\n\necho Loading Apache modules...\nfor MODULE in ${APACHE_LOAD_MODULES}\ndo\n\techo \" - ${MODULE}\"\n\tsed -i \\\n\t\t-e \"s~^#LoadModule ${MODULE} ~LoadModule ${MODULE} ~g\" \\\n\t\t/etc/httpd/conf/httpd.conf\ndone\n\n# Set user passwords\necho \"${OPTS_SERVICE_USER}:${OPTS_SERVICE_USER_PASSWORD}\" | chpasswd\necho \"${OPTS_SERVICE_USER_GROUP}:${OPTS_SERVICE_USER_GROUP_PASSWORD}\" | chpasswd\n\necho\necho \"================================================================================\"\necho \"Apache Credentials\"\necho \"--------------------------------------------------------------------------------\"\necho \"${OPTS_SERVICE_USER} : ${OPTS_SERVICE_USER_PASSWORD}\"\necho \"${OPTS_SERVICE_USER_GROUP} : ${OPTS_SERVICE_USER_GROUP_PASSWORD}\"\necho \"--------------------------------------------------------------------------------\"\necho\n\n# Allow some time for supervisor_stdout to start\nsleep 2\n\nexit 0","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":12},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/n4z4/lavoro/centos7-php56/etc/apache-bootstrap","digestWhenLastPersisted":"56647ac5a0712b38d9f511a3ab14021257ca15be","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"[supervisord]\nlogfile = /var/log/supervisor/supervisord.log\nlogfile_maxbytes = 50MB\nlogfile_backups = 2\nloglevel = info\npidfile = /var/run/supervisord.pid\nminfds = 1024\nminprocs = 200\nnodaemon = true\n\n;[program:sshd_bootstrap]\n;priority = 5\n;command = /etc/ssh-bootstrap\n;startsecs = 0\n;startretries = 0\n;autorestart = false\n;stdout_logfile = /var/log/secure\n;stdout_events_enabled = true\n\n[program:httpd_bootstrap]\npriority = 6\ncommand = /etc/apache-bootstrap\nstartsecs = 0\nstartretries = 0\nautorestart = false\nstdout_events_enabled = true\n\n;[program:sshd]\n;priority = 10\n;command = /usr/sbin/sshd -D -e\n;redirect_stderr = true\n;stdout_logfile = /var/log/secure\n\n[program:httpd]\npriority = 100\ncommand = /bin/bash -c \"/bin/sleep 2 && /usr/sbin/httpd -c \\\"ErrorLog /dev/stdout\\\" -DFOREGROUND\"\nredirect_stderr = true\nstdout_logfile = /var/log/httpd/error_log\nstdout_events_enabled = true\nstartsecs = 5\nautorestart = true\n\n[eventlistener:supervisor_stdout]\ncommand = /usr/bin/supervisor_stdout\nbuffer_size = 100\nevents = PROCESS_LOG\nresult_handler = supervisor_stdout:event_handler","markerStore":{"nextMarkerId":3,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":20},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"1":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":1}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":false},"2":{"range":{"start":{"row":0,"column":12},"end":{"row":0,"column":13}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":false}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/n4z4/lavoro/centos7-php56/etc/services-config/supervisor/supervisord.conf","digestWhenLastPersisted":"22699fa6d4e04c2c1a34cd533b6492eabe4f03e2","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"#!/usr/bin/env bash\n\n# Change working directory\nDIR_PATH=\"$( cd \"$( echo \"${0%/*}\" )\"; pwd )\"\nif [[ $DIR_PATH == */* ]]; then\n\tcd $DIR_PATH\nfi\n\nNO_CACHE=\"$1\"\n\nsource build.conf\n\nshow_docker_image ()\n{\n\tNAME=$1\n\tNAME_PARTS=(${NAME//:/ })\n\n\t# Set 'latest' tag if no tag requested\n\tif [ ${#NAME_PART[@]} == 1 ]; then\n\t\tNAME_PARTS[1]='latest'\n\tfi\n\n\tdocker images | grep -e \"^${NAME_PARTS[0]}[ ]\\{1,\\}${NAME_PARTS[1]}\"\n}\n\necho Building ${DOCKER_IMAGE_REPOSITORY_NAME}...\n\n# Allow cache to be bypassed\nif [ \"$NO_CACHE\" == \"true\" ]; then\n\techo \" ---> Skipping cache\"\nelse\n\tNO_CACHE=\"false\"\nfi\n\n# Build from working directory\ndocker build --no-cache=$NO_CACHE -t ${DOCKER_IMAGE_REPOSITORY_NAME} .\n\n\n# Display the last docker image\necho \"Docker image:\"\nshow_docker_image ${DOCKER_IMAGE_REPOSITORY_NAME}\n\necho \" ---> Build complete\"","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":24},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/n4z4/lavoro/centos7-php56/build.sh","digestWhenLastPersisted":"fee275ff5e298a66bc65229c21ce3ee607835857","preferredLineEnding":null,"deserializer":"TextBuffer","version":2}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":8,"softTabs":false,"displayBuffer":{"id":9,"softWrapped":false,"scrollTop":659,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/n4z4/lavoro/centos7-php56/Dockerfile","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":24,"softTabs":false,"displayBuffer":{"id":25,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/n4z4/lavoro/centos7-php56/build.sh","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":20,"softTabs":true,"displayBuffer":{"id":21,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/n4z4/lavoro/centos7-php56/etc/services-config/supervisor/supervisord.conf","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":12,"softTabs":false,"displayBuffer":{"id":13,"softWrapped":false,"scrollTop":1928,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/n4z4/lavoro/centos7-php56/etc/apache-bootstrap","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/Users/n4z4/lavoro/centos7-php56/Dockerfile","focused":false,"flexScale":1,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-shellscript","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/n4z4/lavoro/centos7-php56/Dockerfile":1443180027680,"/Users/n4z4/lavoro/centos7-php56/build.sh":1443179930342,"/Users/n4z4/lavoro/centos7-php56/etc/services-config/supervisor/supervisord.conf":1443179676808,"/Users/n4z4/lavoro/centos7-php56/etc/apache-bootstrap":1443179760521},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/n4z4/lavoro/centos7-php56":{"isExpanded":true,"entries":{".git":{"isExpanded":false,"entries":{}},"etc":{"isExpanded":true,"entries":{"services-config":{"isExpanded":true,"entries":{"httpd":{"isExpanded":false,"entries":{}},"supervisor":{"isExpanded":true,"entries":{}}}}}},"images":{"isExpanded":false,"entries":{}},"var":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/Users/n4z4/lavoro/centos7-php56/Dockerfile","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":296}}}