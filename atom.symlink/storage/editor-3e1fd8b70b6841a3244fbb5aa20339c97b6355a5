{"mode":"editor","version":1,"windowDimensions":{"x":114,"y":64,"width":1440,"height":877,"maximized":false},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/Users/n4z4/lavoro/jcommerce-cb"],"buffers":[{"text":"","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":8},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","preferredLineEnding":"\n","deserializer":"TextBuffer","version":2},{"text":"FROM php:5.6-apache\n\n# Fix Permission problem workaroud\n# http://chapeau.freevariable.com/2014/08/docker-uid.html\nRUN [\"useradd\", \"-u\", \"1000\", \"-m\", \"-s\", \"/bin/bash\", \"dockerdev\"]\nRUN chown -R 1000:50 $(cat /etc/passwd | grep dockerdev | cut -f6 -d:)\n\nRUN apt-get update -qy \\\n    && apt-get install -y git-core \\\n    wget \\\n    less \\\n    unzip \\\n    mysql-client\n\n# Install\nRUN buildDeps=\" \\\n        libpng12-dev \\\n        libjpeg-dev \\\n        libmcrypt-dev \\\n        libxml2-dev \\\n        libicu-dev \\\n        freetype* \\\n    \"; \\\n    set -x \\\n    && apt-get install -y $buildDeps --no-install-recommends && rm -rf /var/lib/apt/lists/* \\\n    && docker-php-ext-configure \\\n        gd --with-png-dir=/usr --with-jpeg-dir=/usr --with-freetype-dir \\\n    && docker-php-ext-install \\\n    gd \\\n    mbstring \\\n    mysqli \\\n    mcrypt \\\n    mysql \\\n    intl \\\n    pdo_mysql \\\n    soap \\\n    zip \\\n    json \\\n    opcache \\\n    && cd /tmp/ && git clone https://github.com/derickr/xdebug.git \\\n    && cd xdebug && phpize && ./configure --enable-xdebug && make \\\n    && mkdir /usr/lib/php5/ && cp modules/xdebug.so /usr/lib/php5/xdebug.so \\\n    && touch /usr/local/etc/php/ext-xdebug.ini \\\n    && rm -r /tmp/xdebug\n\n##########\n# APCu\n##########\nRUN pear config-set php_ini /usr/local/etc/php/php.ini\nRUN pecl config-set php_ini /usr/local/etc/php/php.ini\nRUN pecl install APCu-beta\n\n\n##########\n# Modules\n##########\nRUN a2enmod rewrite\n\n########\n# Zray\n########\n\nRUN mkdir /zray \\\n  && cd /tmp \\\n  && wget http://downloads.zend.com/zray/1208/zray-php5.6-Ubuntu-14.04-x86_64.tar.gz \\\n  && tar xvfz zray-php5.6-Ubuntu-14.04-x86_64.tar.gz -C /opt \\\n  && chown -R dockerdev:staff /opt/zray \\\n  && rm -f zray-php5.6-Ubuntu-14.04-x86_64.tar.gz\n\n\n# Configure\nCOPY php.ini /usr/local/etc/php/php.ini\nCOPY apache2.conf /etc/apache2/apache2.conf\nCOPY ext-xdebug.ini /usr/local/etc/php/conf.d/ext-xdebug.ini\nCOPY zray.ini /usr/local/etc/php/conf.d/zray.ini\nCOPY zray-ui.conf /etc/apache2/sites-available/zray-ui.conf\n\nRUN a2ensite zray-ui.conf\n\n########################\n#Zray Plugins\n########################\n#doctrine2\nRUN wget -O /tmp/zray-d2-plugin.zip https://api-plugins.zend.com/download.php?id=147 \\\n    && unzip /tmp/zray-d2-plugin.zip -d /tmp \\\n    && mv /tmp/Z-Ray-Doctrine2-master /opt/zray/runtime/var/plugins/Doctrine2\n#zf-commons\nRUN wget -O /tmp/zray-zfcommons-plugin.zip https://api-plugins.zend.com/download.php?id=99 \\\n    && unzip /tmp/zray-zfcommons-plugin.zip -d /opt/zray/runtime/var/plugins/ZFCommons\n\n#opcache\nRUN wget -O /tmp/zray-opcache-plugin.zip https://api-plugins.zend.com/download.php?id=121 \\\n    && unzip /tmp/zray-opcache-plugin.zip -d /opt/zray/runtime/var/plugins/\n\nRUN chown -R dockerdev:staff /opt/zray && chmod g+rw /opt/zray\n\nRUN rm -f /tmp/zray*plugin.zip\n\n########################\n# custom configurations\n########################\nRUN mkdir /home/dockerdev/app\n\nWORKDIR /home/dockerdev/app\n\n# Make sure the volume mount point is empty\nRUN rm -rf /var/www/html \\\n    && ln -s /home/dockerdev/app /var/www/html\n\nRUN echo '<?php phpinfo(); ?>' > /home/dockerdev/app/index.php\nCOPY custom-conf.conf /etc/apache2/conf-available/custom.conf\nCOPY app-vhost.conf /home/dockerdev/app/vhost.conf\n\nRUN a2enconf custom\n\nRUN apt-get clean && apt-get autoclean && apt-get purge -y --auto-remove\n\nCOPY entrypoint.sh /usr/local/bin/entrypoint.sh\n\nRUN chmod 755 /usr/local/bin/entrypoint.sh \\\n    && chown -R dockerdev:staff /home/dockerdev\n\nCMD [\"/usr/local/bin/entrypoint.sh\"]","markerStore":{"nextMarkerId":7,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":12},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"4":{"range":{"start":{"row":94,"column":0},"end":{"row":95,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"5":{"range":{"start":{"row":109,"column":0},"end":{"row":110,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"6":{"range":{"start":{"row":111,"column":0},"end":{"row":112,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/n4z4/lavoro/jcommerce-cb/docker-images/php/5.6-dev/Dockerfile","digestWhenLastPersisted":"fb3be5b55bb3e07b7079a51da855fc289d8f4e84","preferredLineEnding":null,"deserializer":"TextBuffer","version":2},{"text":"workspace:\n    build: docker-images/data\n    extends:\n      file: docker-compose.local.yml\n      service: workspace_container\n\n#shell:\n#    build: docker-images/installer\n#    volumes_from:\n#        - workspace\n#    privileged: true\n#    command: /bin/bash\n#    links:\n#        - mysql\n\nmysql:\n  build: docker-images/mysql\n  ports:\n    - \"3306:3306\"\n  volumes_from:\n     - workspace\n  environment:\n    MYSQL_DATABASE: cb\n    MYSQL_USER: cb\n    MYSQL_PASSWORD: cb\n    MYSQL_ROOT_PASSWORD: 123\n\nphp:\n    build: docker-images/php/5.6-dev\n    ports:\n        - \"80:80\"\n        - \"10081:10081\"\n    links:\n        - mysql:mysql\n    volumes_from:\n        - workspace\n    environment:\n        BASE_URL: http://coralbay.dev.local\n        APPLICATION_ENV: development","markerStore":{"nextMarkerId":5,"markersById":{"0":{"range":{"start":{"row":1,"column":29},"end":{"row":1,"column":29}},"properties":{"type":"selection","editorId":16,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"3":{"range":{"start":{"row":6,"column":0},"end":{"row":15,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false},"4":{"range":{"start":{"row":16,"column":0},"end":{"row":17,"column":0}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":false}},"version":2},"history":{"version":3,"nextCheckpointId":1,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/Users/n4z4/lavoro/jcommerce-cb/docker-compose.yml","digestWhenLastPersisted":"5d1d3911299c61f96e91f009ecbdaab48422ba0c","preferredLineEnding":null,"deserializer":"TextBuffer","version":2}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"id":3,"items":[{"id":8,"softTabs":true,"displayBuffer":{"id":9,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":12,"softTabs":true,"displayBuffer":{"id":13,"softWrapped":false,"scrollTop":1907,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/n4z4/lavoro/jcommerce-cb/docker-images/php/5.6-dev/Dockerfile","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":16,"softTabs":true,"displayBuffer":{"id":17,"softWrapped":false,"scrollTop":58,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/n4z4/lavoro/jcommerce-cb/docker-compose.yml","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/Users/n4z4/lavoro/jcommerce-cb/docker-compose.yml","focused":true,"flexScale":1,"deserializer":"Pane"},"activePaneId":3,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-yaml","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"fuzzy-finder":{"/Users/n4z4/lavoro/jcommerce-cb/docker-images/php/5.6-dev/Dockerfile":1444473594019,"/Users/n4z4/lavoro/jcommerce-cb/docker-compose.yml":1444473634723},"tabs":[{}],"tree-view":{"directoryExpansionStates":{"/Users/n4z4/lavoro/jcommerce-cb":{"isExpanded":true,"entries":{".git":{"isExpanded":false,"entries":{}},".idea":{"isExpanded":false,"entries":{}},"benchmark":{"isExpanded":false,"entries":{}},"config":{"isExpanded":false,"entries":{}},"data":{"isExpanded":false,"entries":{}},"docker-images":{"isExpanded":true,"entries":{"data":{"isExpanded":false,"entries":{}},"installer":{"isExpanded":false,"entries":{}},"mysql":{"isExpanded":false,"entries":{}},"php":{"isExpanded":true,"entries":{"5.6-dev":{"isExpanded":true,"entries":{}},"7.0-dev":{"isExpanded":false,"entries":{}}}}}},"dumps":{"isExpanded":false,"entries":{}},"migrazione":{"isExpanded":false,"entries":{}},"module":{"isExpanded":false,"entries":{}},"profiling":{"isExpanded":false,"entries":{}},"public":{"isExpanded":false,"entries":{}},"var":{"isExpanded":false,"entries":{}},"vendor":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/Users/n4z4/lavoro/jcommerce-cb/docker-compose.yml","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":470,"width":200}}}